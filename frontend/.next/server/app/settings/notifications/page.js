(()=>{var e={};e.id=7211,e.ids=[7211],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},77205:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),s(3494),s(54105),s(11506),s(35866);var i=s(23191),n=s(88716),r=s(37922),a=s.n(r),o=s(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["settings",{children:["notifications",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3494)),"C:\\Users\\hanbi\\OneDrive\\바탕 화면\\my-news-app\\frontend\\app\\settings\\notifications\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,54105)),"C:\\Users\\hanbi\\OneDrive\\바탕 화면\\my-news-app\\frontend\\app\\settings\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,11506)),"C:\\Users\\hanbi\\OneDrive\\바탕 화면\\my-news-app\\frontend\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,19644)),"C:\\Users\\hanbi\\OneDrive\\바탕 화면\\my-news-app\\frontend\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\hanbi\\OneDrive\\바탕 화면\\my-news-app\\frontend\\app\\settings\\notifications\\page.tsx"],u="/settings/notifications/page",h={require:s,loadChunk:()=>Promise.resolve()},p=new i.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/settings/notifications/page",pathname:"/settings/notifications",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},22475:(e,t,s)=>{Promise.resolve().then(s.bind(s,79558))},74706:(e,t,s)=>{Promise.resolve().then(s.bind(s,42362))},79558:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var i=s(10326),n=s(62881);let r=(0,n.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var a=s(58038);let o=(0,n.Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),l=(0,n.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var c=s(90434),d=s(35047),u=s(77863),h=s(64637);let p=({href:e,icon:t,label:s,isActive:n})=>i.jsx(c.default,{href:e,passHref:!0,legacyBehavior:!0,children:(0,i.jsxs)(h.E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:(0,u.cn)("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",n?"bg-indigo-600 text-white shadow-md":"text-gray-300 hover:bg-gray-700 hover:text-white"),children:[t,s]})});function f({children:e}){let t=(0,d.usePathname)(),s=[{href:"/settings/profile",icon:i.jsx(r,{className:"h-4 w-4"}),label:"프로필"},{href:"/settings/privacy",icon:i.jsx(a.Z,{className:"h-4 w-4"}),label:"개인 정보"},{href:"/settings/notifications",icon:i.jsx(o,{className:"h-4 w-4"}),label:"알림"},{href:"/settings/account",icon:i.jsx(l,{className:"h-4 w-4"}),label:"계정"}];return i.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-4 sm:p-6 lg:p-8",children:(0,i.jsxs)(h.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-6xl mx-auto grid lg:grid-cols-4 gap-6",children:[(0,i.jsxs)("aside",{className:"lg:col-span-1 bg-gray-800 rounded-lg shadow-lg p-4 space-y-2",children:[i.jsx("h2",{className:"text-xl font-bold mb-4 text-indigo-400",children:"설정"}),i.jsx("nav",{className:"grid gap-1",children:s.map(e=>i.jsx(p,{href:e.href,icon:e.icon,label:e.label,isActive:t===e.href},e.href))})]}),i.jsx("main",{className:"lg:col-span-3 bg-gray-800 rounded-lg shadow-lg p-6",children:e})]})})}},42362:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var i=s(10326),n=s(17577),r=s(77109),a=s(34789),o=s(90772),l=s(45842),c=s(96655),d=s(33071),u=s(64637);function h(){let{data:e,status:t}=(0,r.useSession)(),{toast:s}=(0,a.pm)(),[h,p]=(0,n.useState)(!0),[f,m]=(0,n.useState)(!0),[g,x]=(0,n.useState)(!0),[v,b]=(0,n.useState)(!0),[y,w]=(0,n.useState)(!0),[j,k]=(0,n.useState)(!0),[N,_]=(0,n.useState)(!0),[S,C]=(0,n.useState)(!1),[P,T]=(0,n.useState)(null),[O,A]=(0,n.useState)(!1),D=async t=>{if(t.preventDefault(),C(!0),!e?.accessToken){T("인증 토큰이 없습니다."),A(!1);return}try{let t=await fetch("http://localhost:8002/users/me/notifications",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.accessToken}`},body:JSON.stringify({on_new_comment:h,on_new_follower:f,on_post_like:g,on_mention:v,on_direct_message:y,email_notifications:j,push_notifications:N})});if(t.ok)s({title:"알림 설정 업데이트 성공",description:"설정이 성공적으로 저장되었습니다."});else{let e=await t.json();s({title:"알림 설정 업데이트 실패",description:e.detail||"설정 업데이트 중 오류가 발생했습니다.",variant:"destructive"})}}catch(e){console.error("Error updating notification settings:",e),s({title:"오류 발생",description:"네트워크 오류 또는 서버 문제.",variant:"destructive"})}finally{C(!1)}};return"loading"===t?i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white",children:i.jsx("p",{children:"Loading notification settings..."})}):"unauthenticated"===t?i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white",children:i.jsx("p",{children:"Please log in to view notification settings."})}):i.jsx(u.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,i.jsxs)(d.Zb,{className:"bg-gray-800 border-gray-700 text-white",children:[(0,i.jsxs)(d.Ol,{children:[i.jsx(d.ll,{className:"text-2xl text-indigo-400",children:"알림 설정"}),i.jsx(d.SZ,{className:"text-gray-400",children:"어떤 알림을 받을지 관리하세요."})]}),i.jsx(d.aY,{children:(0,i.jsxs)("form",{onSubmit:D,className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx(l._,{htmlFor:"onNewComment",children:"새 댓글"}),i.jsx(c.r,{id:"onNewComment",checked:h,onCheckedChange:p})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx(l._,{htmlFor:"onNewFollower",children:"새 팔로워"}),i.jsx(c.r,{id:"onNewFollower",checked:f,onCheckedChange:m})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx(l._,{htmlFor:"onPostLike",children:"게시물 좋아요"}),i.jsx(c.r,{id:"onPostLike",checked:g,onCheckedChange:x})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx(l._,{htmlFor:"onMention",children:"멘션"}),i.jsx(c.r,{id:"onMention",checked:v,onCheckedChange:b})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx(l._,{htmlFor:"onDirectMessage",children:"쪽지"}),i.jsx(c.r,{id:"onDirectMessage",checked:y,onCheckedChange:w})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx(l._,{htmlFor:"emailNotifications",children:"이메일 알림"}),i.jsx(c.r,{id:"emailNotifications",checked:j,onCheckedChange:k})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx(l._,{htmlFor:"pushNotifications",children:"푸시 알림"}),i.jsx(c.r,{id:"pushNotifications",checked:N,onCheckedChange:_})]}),i.jsx(o.z,{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700",disabled:S,children:S?"저장 중...":"변경 사항 저장"})]})})]})})}},90772:(e,t,s)=>{"use strict";s.d(t,{d:()=>l,z:()=>c});var i=s(10326),n=s(17577),r=s(34214),a=s(79360),o=s(77863);let l=(0,a.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef(({className:e,variant:t,size:s,asChild:n=!1,...a},c)=>{let d=n?r.g7:"button";return i.jsx(d,{className:(0,o.cn)(l({variant:t,size:s,className:e})),ref:c,...a})});c.displayName="Button"},45842:(e,t,s)=>{"use strict";s.d(t,{_:()=>d});var i=s(10326),n=s(17577),r=s(45226),a=n.forwardRef((e,t)=>(0,i.jsx)(r.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label";var o=s(79360),l=s(77863);let c=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef(({className:e,...t},s)=>i.jsx(a,{ref:s,className:(0,l.cn)(c(),e),...t}));d.displayName=a.displayName},96655:(e,t,s)=>{"use strict";s.d(t,{r:()=>k});var i=s(10326),n=s(17577),r=s(82561),a=s(48051),o=s(93095),l=s(52067),c=s(53405),d=s(2566),u=s(45226),h="Switch",[p,f]=(0,o.b)(h),[m,g]=p(h),x=n.forwardRef((e,t)=>{let{__scopeSwitch:s,name:o,checked:c,defaultChecked:d,required:h,disabled:p,value:f="on",onCheckedChange:g,form:x,...v}=e,[b,j]=n.useState(null),k=(0,a.e)(t,e=>j(e)),N=n.useRef(!1),_=!b||x||!!b.closest("form"),[S=!1,C]=(0,l.T)({prop:c,defaultProp:d,onChange:g});return(0,i.jsxs)(m,{scope:s,checked:S,disabled:p,children:[(0,i.jsx)(u.WV.button,{type:"button",role:"switch","aria-checked":S,"aria-required":h,"data-state":w(S),"data-disabled":p?"":void 0,disabled:p,value:f,...v,ref:k,onClick:(0,r.M)(e.onClick,e=>{C(e=>!e),_&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})}),_&&(0,i.jsx)(y,{control:b,bubbles:!N.current,name:o,value:f,checked:S,required:h,disabled:p,form:x,style:{transform:"translateX(-100%)"}})]})});x.displayName=h;var v="SwitchThumb",b=n.forwardRef((e,t)=>{let{__scopeSwitch:s,...n}=e,r=g(v,s);return(0,i.jsx)(u.WV.span,{"data-state":w(r.checked),"data-disabled":r.disabled?"":void 0,...n,ref:t})});b.displayName=v;var y=e=>{let{control:t,checked:s,bubbles:r=!0,...a}=e,o=n.useRef(null),l=(0,c.D)(s),u=(0,d.t)(t);return n.useEffect(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==s&&t){let i=new Event("click",{bubbles:r});t.call(e,s),e.dispatchEvent(i)}},[l,s,r]),(0,i.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...a,tabIndex:-1,ref:o,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function w(e){return e?"checked":"unchecked"}var j=s(77863);let k=n.forwardRef(({className:e,...t},s)=>i.jsx(x,{className:(0,j.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:i.jsx(b,{className:(0,j.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));k.displayName=x.displayName},34789:(e,t,s)=>{"use strict";s.d(t,{pm:()=>h});var i=s(17577);let n=0,r=new Map,a=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?a(s):e.toasts.forEach(e=>{a(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],c={toasts:[]};function d(e){c=o(c,e),l.forEach(e=>{e(c)})}function u({...e}){let t=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>d({type:"DISMISS_TOAST",toastId:t});return d({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function h(){let[e,t]=i.useState(c);return i.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},58038:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});let i=(0,s(62881).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},54105:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});let i=(0,s(68570).createProxy)(String.raw`C:\Users\hanbi\OneDrive\바탕 화면\my-news-app\frontend\app\settings\layout.tsx#default`)},3494:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});let i=(0,s(68570).createProxy)(String.raw`C:\Users\hanbi\OneDrive\바탕 화면\my-news-app\frontend\app\settings\notifications\page.tsx#default`)},53405:(e,t,s)=>{"use strict";s.d(t,{D:()=>n});var i=s(17577);function n(e){let t=i.useRef({value:e,previous:e});return i.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},2566:(e,t,s)=>{"use strict";s.d(t,{t:()=>r});var i=s(17577),n=s(65819);function r(e){let[t,s]=i.useState(void 0);return(0,n.b)(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let i,n;if(!Array.isArray(t)||!t.length)return;let r=t[0];if("borderBoxSize"in r){let e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,n=t.blockSize}else i=e.offsetWidth,n=e.offsetHeight;s({width:i,height:n})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}s(void 0)},[e]),t}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),i=t.X(0,[8948,4930,6621,434,4637,9021],()=>s(77205));module.exports=i})();