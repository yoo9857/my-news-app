(()=>{var e={};e.id=7211,e.ids=[7211],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},77205:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>a.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>l}),i(3494),i(54105),i(11506),i(35866);var s=i(23191),n=i(88716),r=i(37922),a=i.n(r),o=i(95231),c={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);i.d(t,c);let l=["",{children:["settings",{children:["notifications",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,3494)),"C:\\Users\\hanbi\\OneDrive\\바탕 화면\\my-news-app\\frontend\\app\\settings\\notifications\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(i.bind(i,54105)),"C:\\Users\\hanbi\\OneDrive\\바탕 화면\\my-news-app\\frontend\\app\\settings\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(i.bind(i,11506)),"C:\\Users\\hanbi\\OneDrive\\바탕 화면\\my-news-app\\frontend\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(i.bind(i,19644)),"C:\\Users\\hanbi\\OneDrive\\바탕 화면\\my-news-app\\frontend\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\hanbi\\OneDrive\\바탕 화면\\my-news-app\\frontend\\app\\settings\\notifications\\page.tsx"],u="/settings/notifications/page",h={require:i,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/settings/notifications/page",pathname:"/settings/notifications",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},74706:(e,t,i)=>{Promise.resolve().then(i.bind(i,42362))},42362:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var s=i(10326),n=i(17577),r=i(77109),a=i(34789),o=i(90772),c=i(45842),l=i(96655),d=i(33071),u=i(64637);function h(){let{data:e,status:t}=(0,r.useSession)(),{toast:i}=(0,a.pm)(),[h,p]=(0,n.useState)(!0),[x,m]=(0,n.useState)(!0),[f,g]=(0,n.useState)(!0),[v,y]=(0,n.useState)(!0),[j,b]=(0,n.useState)(!0),[w,_]=(0,n.useState)(!0),[C,k]=(0,n.useState)(!0),[P,N]=(0,n.useState)(!1),[S,q]=(0,n.useState)(null),[D,O]=(0,n.useState)(!1),A=async t=>{if(t.preventDefault(),N(!0),!e?.accessToken){q("인증 토큰이 없습니다."),O(!1);return}try{let t=await fetch("http://localhost:8002/users/me/notifications",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.accessToken}`},body:JSON.stringify({on_new_comment:h,on_new_follower:x,on_post_like:f,on_mention:v,on_direct_message:j,email_notifications:w,push_notifications:C})});if(t.ok)i({title:"알림 설정 업데이트 성공",description:"설정이 성공적으로 저장되었습니다."});else{let e=await t.json();i({title:"알림 설정 업데이트 실패",description:e.detail||"설정 업데이트 중 오류가 발생했습니다.",variant:"destructive"})}}catch(e){console.error("Error updating notification settings:",e),i({title:"오류 발생",description:"네트워크 오류 또는 서버 문제.",variant:"destructive"})}finally{N(!1)}};return"loading"===t?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white",children:s.jsx("p",{children:"Loading notification settings..."})}):"unauthenticated"===t?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white",children:s.jsx("p",{children:"Please log in to view notification settings."})}):s.jsx(u.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,s.jsxs)(d.Zb,{className:"bg-gray-800 border-gray-700 text-white",children:[(0,s.jsxs)(d.Ol,{children:[s.jsx(d.ll,{className:"text-2xl text-indigo-400",children:"알림 설정"}),s.jsx(d.SZ,{className:"text-gray-400",children:"어떤 알림을 받을지 관리하세요."})]}),s.jsx(d.aY,{children:(0,s.jsxs)("form",{onSubmit:A,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx(c._,{htmlFor:"onNewComment",children:"새 댓글"}),s.jsx(l.r,{id:"onNewComment",checked:h,onCheckedChange:p})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx(c._,{htmlFor:"onNewFollower",children:"새 팔로워"}),s.jsx(l.r,{id:"onNewFollower",checked:x,onCheckedChange:m})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx(c._,{htmlFor:"onPostLike",children:"게시물 좋아요"}),s.jsx(l.r,{id:"onPostLike",checked:f,onCheckedChange:g})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx(c._,{htmlFor:"onMention",children:"멘션"}),s.jsx(l.r,{id:"onMention",checked:v,onCheckedChange:y})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx(c._,{htmlFor:"onDirectMessage",children:"쪽지"}),s.jsx(l.r,{id:"onDirectMessage",checked:j,onCheckedChange:b})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx(c._,{htmlFor:"emailNotifications",children:"이메일 알림"}),s.jsx(l.r,{id:"emailNotifications",checked:w,onCheckedChange:_})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx(c._,{htmlFor:"pushNotifications",children:"푸시 알림"}),s.jsx(l.r,{id:"pushNotifications",checked:C,onCheckedChange:k})]}),s.jsx(o.z,{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700",disabled:P,children:P?"저장 중...":"변경 사항 저장"})]})})]})})}},3494:(e,t,i)=>{"use strict";i.r(t),i.d(t,{$$typeof:()=>a,__esModule:()=>r,default:()=>o});var s=i(68570);let n=(0,s.createProxy)(String.raw`C:\Users\hanbi\OneDrive\바탕 화면\my-news-app\frontend\app\settings\notifications\page.tsx`),{__esModule:r,$$typeof:a}=n;n.default;let o=(0,s.createProxy)(String.raw`C:\Users\hanbi\OneDrive\바탕 화면\my-news-app\frontend\app\settings\notifications\page.tsx#default`)},53405:(e,t,i)=>{"use strict";i.d(t,{D:()=>n});var s=i(17577);function n(e){let t=s.useRef({value:e,previous:e});return s.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},2566:(e,t,i)=>{"use strict";i.d(t,{t:()=>r});var s=i(17577),n=i(65819);function r(e){let[t,i]=s.useState(void 0);return(0,n.b)(()=>{if(e){i({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let s,n;if(!Array.isArray(t)||!t.length)return;let r=t[0];if("borderBoxSize"in r){let e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;s=t.inlineSize,n=t.blockSize}else s=e.offsetWidth,n=e.offsetHeight;i({width:s,height:n})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}i(void 0)},[e]),t}}};var t=require("../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),s=t.X(0,[8948,4930,6621,434,4637,8247,5087],()=>i(77205));module.exports=s})();