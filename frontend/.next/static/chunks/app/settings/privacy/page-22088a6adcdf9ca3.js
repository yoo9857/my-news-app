(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7917],{4623:function(e,t,r){Promise.resolve().then(r.bind(r,5776))},5776:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var s=r(7437),n=r(2265),a=r(605),i=r(7992),l=r(2869),o=r(6815),c=r(1828),d=r(3647),u=r(6070),f=r(2021);function p(){let{data:e,status:t}=(0,a.useSession)(),{toast:r}=(0,i.pm)(),[p,h]=(0,n.useState)("public"),[m,x]=(0,n.useState)("private"),[v,y]=(0,n.useState)(!0),[g,b]=(0,n.useState)(!0),[j,w]=(0,n.useState)(!0),[N,_]=(0,n.useState)(!1),[k,S]=(0,n.useState)(""),[T,C]=(0,n.useState)(!1);(0,n.useEffect)(()=>{"authenticated"===t&&(null==e?void 0:e.accessToken)&&O()},[e,t]);let O=async()=>{if(null==e?void 0:e.accessToken)try{let t=await fetch("http://localhost:8002/users/me/privacy",{headers:{Authorization:"Bearer ".concat(e.accessToken)}});if(t.ok){let e=await t.json();h(e.profile_visibility),x(e.show_email),y(e.show_activity_feed),b(e.allow_direct_messages),w(e.show_online_status)}else{let e=await t.json();r({title:"개인 정보 설정 불러오기 실패",description:e.detail||"설정을 불러오는 중 오류가 발생했습니다.",variant:"destructive"})}}catch(e){console.error("Error fetching privacy settings:",e),r({title:"오류 발생",description:"네트워크 오류 또는 서버 문제.",variant:"destructive"})}},E=async t=>{if(t.preventDefault(),_(!0),!(null==e?void 0:e.accessToken)){S("인증 토큰이 없습니다."),C(!1);return}try{let t=await fetch("http://localhost:8002/users/me/privacy",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.accessToken)},body:JSON.stringify({profile_visibility:p,show_email:m,show_activity_feed:v,allow_direct_messages:g,show_online_status:j})});if(t.ok)r({title:"개인 정보 설정 업데이트 성공",description:"설정이 성공적으로 저장되었습니다."});else{let e=await t.json();r({title:"개인 정보 설정 업데이트 실패",description:e.detail||"설정 업데이트 중 오류가 발생했습니다.",variant:"destructive"})}}catch(e){console.error("Error updating privacy settings:",e),r({title:"오류 발생",description:"네트워크 오류 또는 서버 문제.",variant:"destructive"})}finally{_(!1)}};return"loading"===t?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white",children:(0,s.jsx)("p",{children:"Loading privacy settings..."})}):"unauthenticated"===t?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white",children:(0,s.jsx)("p",{children:"Please log in to view privacy settings."})}):(0,s.jsx)(f.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,s.jsxs)(u.Zb,{className:"bg-gray-800 border-gray-700 text-white",children:[(0,s.jsxs)(u.Ol,{children:[(0,s.jsx)(u.ll,{className:"text-2xl text-indigo-400",children:"개인 정보 설정"}),(0,s.jsx)(u.SZ,{className:"text-gray-400",children:"프로필 공개 여부 및 활동 설정을 관리하세요."})]}),(0,s.jsx)(u.aY,{children:(0,s.jsxs)("form",{onSubmit:E,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(o._,{htmlFor:"profileVisibility",children:"프로필 공개 범위"}),(0,s.jsxs)(d.Ph,{value:p,onValueChange:h,children:[(0,s.jsx)(d.i4,{className:"w-[180px]",children:(0,s.jsx)(d.ki,{placeholder:"공개 범위"})}),(0,s.jsxs)(d.Bw,{children:[(0,s.jsx)(d.Ql,{value:"public",children:"공개"}),(0,s.jsx)(d.Ql,{value:"followers_only",children:"팔로워에게만 공개"}),(0,s.jsx)(d.Ql,{value:"private",children:"비공개"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o._,{htmlFor:"showEmail",children:"이메일 공개 여부"}),(0,s.jsxs)(d.Ph,{value:m,onValueChange:x,children:[(0,s.jsx)(d.i4,{className:"w-[180px]",children:(0,s.jsx)(d.ki,{placeholder:"이메일 공개"})}),(0,s.jsxs)(d.Bw,{children:[(0,s.jsx)(d.Ql,{value:"public",children:"공개"}),(0,s.jsx)(d.Ql,{value:"private",children:"비공개"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(o._,{htmlFor:"showActivityFeed",children:"활동 피드 공개"}),(0,s.jsx)(c.r,{id:"showActivityFeed",checked:v,onCheckedChange:y})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(o._,{htmlFor:"allowDirectMessages",children:"쪽지 허용"}),(0,s.jsx)(c.r,{id:"allowDirectMessages",checked:g,onCheckedChange:b})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(o._,{htmlFor:"showOnlineStatus",children:"온라인 상태 표시"}),(0,s.jsx)(c.r,{id:"showOnlineStatus",checked:j,onCheckedChange:w})]}),(0,s.jsx)(l.z,{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700",disabled:N,children:N?"저장 중...":"변경 사항 저장"})]})})]})})}},2869:function(e,t,r){"use strict";r.d(t,{d:function(){return o},z:function(){return c}});var s=r(7437),n=r(2265),a=r(7053),i=r(535),l=r(4508);let o=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:r,variant:n,size:i,asChild:c=!1,...d}=e,u=c?a.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(o({variant:n,size:i,className:r})),ref:t,...d})});c.displayName="Button"},6070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return d},eW:function(){return u},ll:function(){return o}});var s=r(7437),n=r(2265),a=r(4508);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});i.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...n})});l.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});o.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})});c.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...n})});d.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...n})});u.displayName="CardFooter"},6815:function(e,t,r){"use strict";r.d(t,{_:function(){return c}});var s=r(7437),n=r(2265),a=r(6394),i=r(535),l=r(4508);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.f,{ref:t,className:(0,l.cn)(o(),r),...n})});c.displayName=a.f.displayName},3647:function(e,t,r){"use strict";r.d(t,{Bw:function(){return m},Ph:function(){return d},Ql:function(){return x},i4:function(){return f},ki:function(){return u}});var s=r(7437),n=r(2265),a=r(6873),i=r(875),l=r(2135),o=r(401),c=r(4508);let d=a.fC;a.ZA;let u=a.B4,f=n.forwardRef((e,t)=>{let{className:r,children:n,...l}=e;return(0,s.jsxs)(a.xz,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...l,children:[n,(0,s.jsx)(a.JO,{asChild:!0,children:(0,s.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});f.displayName=a.xz.displayName;let p=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.u_,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",r),...n,children:(0,s.jsx)(l.Z,{className:"h-4 w-4"})})});p.displayName=a.u_.displayName;let h=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.$G,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",r),...n,children:(0,s.jsx)(i.Z,{className:"h-4 w-4"})})});h.displayName=a.$G.displayName;let m=n.forwardRef((e,t)=>{let{className:r,children:n,position:i="popper",...l}=e;return(0,s.jsx)(a.h_,{children:(0,s.jsxs)(a.VY,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:i,...l,children:[(0,s.jsx)(p,{}),(0,s.jsx)(a.l_,{className:(0,c.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,s.jsx)(h,{})]})})});m.displayName=a.VY.displayName,n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.__,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...n})}).displayName=a.__.displayName;let x=n.forwardRef((e,t)=>{let{className:r,children:n,...i}=e;return(0,s.jsxs)(a.ck,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(a.wU,{children:(0,s.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,s.jsx)(a.eT,{children:n})]})});x.displayName=a.ck.displayName,n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",r),...n})}).displayName=a.Z0.displayName},1828:function(e,t,r){"use strict";r.d(t,{r:function(){return l}});var s=r(7437),n=r(2265),a=r(721),i=r(4508);let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.fC,{className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",r),...n,ref:t,children:(0,s.jsx)(a.bU,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});l.displayName=a.fC.displayName},7992:function(e,t,r){"use strict";r.d(t,{pm:function(){return f}});var s=r(2265);let n=0,a=new Map,i=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],c={toasts:[]};function d(e){c=l(c,e),o.forEach(e=>{e(c)})}function u(e){let{...t}=e,r=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>d({type:"DISMISS_TOAST",toastId:r});return d({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function f(){let[e,t]=s.useState(c);return s.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(1994),n=r(3335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}},6394:function(e,t,r){"use strict";r.d(t,{f:function(){return l}});var s=r(2265),n=r(6840),a=r(7437),i=s.forwardRef((e,t)=>(0,a.jsx)(n.WV.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=i},721:function(e,t,r){"use strict";r.d(t,{bU:function(){return N},fC:function(){return w}});var s=r(2265),n=r(6741),a=r(8575),i=r(3966),l=r(886),o=r(6718),c=r(420),d=r(6840),u=r(7437),f="Switch",[p,h]=(0,i.b)(f),[m,x]=p(f),v=s.forwardRef((e,t)=>{let{__scopeSwitch:r,name:i,checked:o,defaultChecked:c,required:f,disabled:p,value:h="on",onCheckedChange:x,form:v,...y}=e,[g,w]=s.useState(null),N=(0,a.e)(t,e=>w(e)),_=s.useRef(!1),k=!g||v||!!g.closest("form"),[S=!1,T]=(0,l.T)({prop:o,defaultProp:c,onChange:x});return(0,u.jsxs)(m,{scope:r,checked:S,disabled:p,children:[(0,u.jsx)(d.WV.button,{type:"button",role:"switch","aria-checked":S,"aria-required":f,"data-state":j(S),"data-disabled":p?"":void 0,disabled:p,value:h,...y,ref:N,onClick:(0,n.M)(e.onClick,e=>{T(e=>!e),k&&(_.current=e.isPropagationStopped(),_.current||e.stopPropagation())})}),k&&(0,u.jsx)(b,{control:g,bubbles:!_.current,name:i,value:h,checked:S,required:f,disabled:p,form:v,style:{transform:"translateX(-100%)"}})]})});v.displayName=f;var y="SwitchThumb",g=s.forwardRef((e,t)=>{let{__scopeSwitch:r,...s}=e,n=x(y,r);return(0,u.jsx)(d.WV.span,{"data-state":j(n.checked),"data-disabled":n.disabled?"":void 0,...s,ref:t})});g.displayName=y;var b=e=>{let{control:t,checked:r,bubbles:n=!0,...a}=e,i=s.useRef(null),l=(0,o.D)(r),d=(0,c.t)(t);return s.useEffect(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==r&&t){let s=new Event("click",{bubbles:n});t.call(e,r),e.dispatchEvent(s)}},[l,r,n]),(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function j(e){return e?"checked":"unchecked"}var w=v,N=g},535:function(e,t,r){"use strict";r.d(t,{j:function(){return i}});var s=r(1994);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=s.W,i=(e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return a(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:i,defaultVariants:l}=t,o=Object.keys(i).map(e=>{let t=null==r?void 0:r[e],s=null==l?void 0:l[e];if(null===t)return null;let a=n(t)||n(s);return i[e][a]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return a(e,o,null==t?void 0:null===(s=t.compoundVariants)||void 0===s?void 0:s.reduce((e,t)=>{let{class:r,className:s,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...l,...c}[t]):({...l,...c})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}},function(e){e.O(0,[6137,605,2021,2899,229,5026,2971,2117,1744],function(){return e(e.s=4623)}),_N_E=e.O()}]);