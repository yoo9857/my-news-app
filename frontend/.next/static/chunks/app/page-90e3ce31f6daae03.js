(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{9833:function(e,t,s){Promise.resolve().then(s.bind(s,5521))},5521:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return tf}});var a=s(7437),l=s(9376),r=s(2265),n=s(2021),i=s(271),o=s(4508);let c=i.fC,d=r.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(i.aV,{ref:t,className:(0,o.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...l})});d.displayName=i.aV.displayName;let m=r.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(i.xz,{ref:t,className:(0,o.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...l})});m.displayName=i.xz.displayName;let x=r.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(i.VY,{ref:t,className:(0,o.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...l})});x.displayName=i.VY.displayName;var u=s(5466),f=s(7692),h=s(1596),p=s(2096),g=s(3618),b=s(8501),j=s(4972),v=s(6831),N=s(85),y=s(407),w=s(401),k=s(519);let S=N.fC,C=N.xz;N.ZA,N.Uv,N.Tr,N.Ee,r.forwardRef((e,t)=>{let{className:s,inset:l,children:r,...n}=e;return(0,a.jsxs)(N.fF,{ref:t,className:(0,o.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",l&&"pl-8",s),...n,children:[r,(0,a.jsx)(y.Z,{className:"ml-auto"})]})}).displayName=N.fF.displayName,r.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(N.tu,{ref:t,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...l})}).displayName=N.tu.displayName;let _=r.forwardRef((e,t)=>{let{className:s,sideOffset:l=4,...r}=e;return(0,a.jsx)(N.Uv,{children:(0,a.jsx)(N.VY,{ref:t,sideOffset:l,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})})});_.displayName=N.VY.displayName;let z=r.forwardRef((e,t)=>{let{className:s,inset:l,...r}=e;return(0,a.jsx)(N.ck,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",l&&"pl-8",s),...r})});z.displayName=N.ck.displayName,r.forwardRef((e,t)=>{let{className:s,children:l,checked:r,...n}=e;return(0,a.jsxs)(N.oC,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:r,...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(N.wU,{children:(0,a.jsx)(w.Z,{className:"h-4 w-4"})})}),l]})}).displayName=N.oC.displayName,r.forwardRef((e,t)=>{let{className:s,children:l,...r}=e;return(0,a.jsxs)(N.Rk,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...r,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(N.wU,{children:(0,a.jsx)(k.Z,{className:"h-2 w-2 fill-current"})})}),l]})}).displayName=N.Rk.displayName;let E=r.forwardRef((e,t)=>{let{className:s,inset:l,...r}=e;return(0,a.jsx)(N.__,{ref:t,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",l&&"pl-8",s),...r})});E.displayName=N.__.displayName;let Z=r.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(N.Z0,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",s),...l})});Z.displayName=N.Z0.displayName;var R=s(2869),O=s(1931),I=s(5186),T=s(8887),A=s(265),D=s(5051),P=s(4156),L=s(1817),V=s(6865),M=s(257);let U=e=>e>0?"text-green-400":e<0?"text-red-400":"text-slate-400",W=e=>{let{rate:t}=e;return t>0?(0,a.jsx)(A.Z,{size:14,className:"inline-block mr-1 text-green-400"}):t<0?(0,a.jsx)(D.Z,{size:14,className:"inline-block mr-1 text-red-400"}):null},Y=e=>{let{sortConfig:t,requestSort:s}=e,l=e=>t&&t.key===e?"ascending"===t.direction?(0,a.jsx)(A.Z,{size:14,className:"inline-block ml-1"}):(0,a.jsx)(D.Z,{size:14,className:"inline-block ml-1"}):(0,a.jsx)(P.Z,{size:14,className:"inline-block ml-1 text-slate-500"});return(0,a.jsx)("div",{className:"flex items-center bg-slate-900/80 flex-shrink-0 h-12 px-4 border-b border-slate-700 font-semibold text-slate-300 text-sm select-none",children:[{key:"name",label:"종목명",className:"w-[40%] cursor-pointer"},{key:"currentPrice",label:"현재가",className:"w-[20%] text-right cursor-pointer"},{key:"change_rate",label:"등락률",className:"w-[20%] text-right cursor-pointer"},{key:"volume",label:"거래량",className:"w-[20%] text-right cursor-pointer"}].map(e=>{let{key:t,label:r,className:n}=e;return(0,a.jsxs)("div",{className:n,onClick:()=>s(t),children:[r,l(t)]},t)})})},B=()=>{let e=new Date,t=new Date(e.getTime()+6e4*e.getTimezoneOffset()+324e5),s=t.getDay(),a=t.getHours(),l=t.getMinutes();return 0!==s&&6!==s&&(a>9||9===a&&l>=0)&&(a<15||15===a&&l<=30)};function F(){let[e,t]=(0,r.useState)(""),[s,l]=(0,r.useState)("ALL"),[n]=(0,O.Nr)(e,300),[i,o]=(0,r.useState)({key:"volume",direction:"descending"}),[x,u]=(0,r.useState)([]),[f,h]=(0,r.useState)(!0),[p,g]=(0,r.useState)(!1),b=(0,r.useRef)(null);(0,r.useEffect)(()=>{if((async()=>{h(!0),g(!1);try{let e=await fetch("/api/all-companies");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.json();Array.isArray(t)?u(t):g(!0)}catch(e){console.error("Failed to fetch initial stock data:",e),g(!0)}finally{h(!1)}})(),B()){if(console.log("Market is open. Attempting WebSocket connection..."),!b.current||b.current.readyState===WebSocket.CLOSED){var e;let t=null===(e=M.env.NEXT_PUBLIC_STOCK_API_URL)||void 0===e?void 0:e.replace(/^http/,"ws"),s=new WebSocket("".concat(t,"/ws/realtime-price"));b.current=s,s.onopen=()=>{console.log("CompanyExplorer: WebSocket connection successful")},s.onmessage=e=>{try{let t=JSON.parse(e.data);"realtime-price"===t.type&&u(e=>e.map(e=>e.code===t.code?{...e,currentPrice:t.price,change_rate:t.change_rate}:e))}catch(e){console.error("CompanyExplorer: Error processing WebSocket message:",e)}},s.onerror=e=>{console.error("CompanyExplorer: WebSocket Error:",e)},s.onclose=e=>{console.log("CompanyExplorer: WebSocket connection closed:",e.reason),b.current=null}}}else console.log("Market is closed. Skipping WebSocket connection.");return()=>{b.current&&b.current.readyState===WebSocket.OPEN&&b.current.close()}},[]);let j=(0,r.useMemo)(()=>{let e=[...x];if("ALL"!==s&&(e=e.filter(e=>e.market===s)),n){let t=n.toLowerCase();e=e.filter(e=>e.name&&e.name.toLowerCase().includes(t)||e.code&&e.code.includes(n))}return null!==i&&e.sort((e,t)=>{let s=e[i.key]||0,a=t[i.key]||0;return s<a?"ascending"===i.direction?-1:1:s>a?"ascending"===i.direction?1:-1:0}),e},[x,n,s,i]),v=(0,r.useRef)(null),N=(0,T.MG)({count:j.length,getScrollElement:()=>v.current,estimateSize:()=>52,overscan:10});return(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[(0,a.jsx)(I.I,{placeholder:"종목명 또는 코드로 검색...",value:e,onChange:e=>t(e.target.value),className:"flex-grow bg-slate-800 border-slate-600 text-slate-200 placeholder:text-slate-500 focus:border-indigo-500 focus:ring-indigo-500"}),(0,a.jsx)(c,{defaultValue:"ALL",onValueChange:e=>l(e),className:"w-full sm:w-auto",children:(0,a.jsxs)(d,{className:"grid w-full grid-cols-3 bg-slate-800 border-slate-600",children:[(0,a.jsx)(m,{value:"ALL",children:"전체"}),(0,a.jsx)(m,{value:"KOSPI",children:"코스피"}),(0,a.jsx)(m,{value:"KOSDAQ",children:"코스닥"})]})})]}),(0,a.jsxs)("div",{className:"flex-grow rounded-lg border border-slate-700/50 overflow-hidden flex flex-col",children:[(0,a.jsx)(Y,{sortConfig:i,requestSort:e=>{let t="ascending";i&&i.key===e&&"ascending"===i.direction&&(t="descending"),o({key:e,direction:t})}}),f?(0,a.jsx)("div",{className:"flex items-center justify-center h-48",children:(0,a.jsx)(L.Z,{className:"animate-spin text-slate-400",size:32})}):p?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-48 text-red-400",children:[(0,a.jsx)(V.Z,{size:32}),(0,a.jsx)("p",{className:"mt-2",children:"데이터를 불러오는 데 실패했습니다."})]}):0===j.length?(0,a.jsx)("div",{className:"flex items-center justify-center h-48 text-slate-400",children:"검색 결과가 없습니다."}):(0,a.jsx)("div",{ref:v,className:"flex-grow overflow-auto",style:{height:"calc(100vh - 300px)"},children:(0,a.jsx)("div",{style:{height:"".concat(N.getTotalSize(),"px"),width:"100%",position:"relative"},children:N.getVirtualItems().map(e=>{let t=j[e.index],s=t.currentPrice||0,l=t.change_rate||0,r=t.volume||0;return(0,a.jsx)("a",{href:"/stock/".concat(t.code),target:"_blank",rel:"noopener noreferrer",children:(0,a.jsxs)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"".concat(e.size,"px"),transform:"translateY(".concat(e.start,"px)")},className:"flex items-center px-4 border-b border-slate-800 hover:bg-slate-800/50 transition-colors duration-150",children:[(0,a.jsxs)("div",{className:"w-[40%] font-medium text-slate-200 truncate",children:[t.name," ",(0,a.jsxs)("span",{className:"text-slate-500 text-xs",children:["(",t.code,")"]})]}),(0,a.jsxs)("div",{className:"w-[20%] text-right text-slate-200 font-mono",children:[s.toLocaleString(),"원"]}),(0,a.jsxs)("div",{className:"w-[20%] text-right font-semibold ".concat(U(l)),children:[(0,a.jsx)(W,{rate:l}),l.toFixed(2),"%"]}),(0,a.jsx)("div",{className:"w-[20%] text-right text-slate-400 font-mono",children:r.toLocaleString()})]})},e.key)})})})]})]})}var K=s(8614),X=s(535);let Q=(0,X.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function H(e){let{className:t,variant:s,...l}=e;return(0,a.jsx)("div",{className:(0,o.cn)(Q({variant:s}),t),...l})}var G=s(525),J=s(1047),q=s(3085),$=s(3647),ee=s(1312);let et=ee.zt,es=ee.fC,ea=ee.xz,el=r.forwardRef((e,t)=>{let{className:s,sideOffset:l=4,...r}=e;return(0,a.jsx)(ee.VY,{ref:t,sideOffset:l,className:(0,o.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})});el.displayName=ee.VY.displayName;var er=s(257);let en={hidden:{opacity:1},visible:{opacity:1,transition:{staggerChildren:.07}}},ei={hidden:{opacity:0,y:20,scale:.98},visible:{opacity:1,y:0,scale:1}},eo=()=>{let e=["AI 분석중...","문맥 파악중...","데이터 추론중..."],[t,s]=(0,r.useState)(0);return(0,r.useEffect)(()=>{let t=setInterval(()=>{s(t=>(t+1)%e.length)},1500);return()=>clearInterval(t)},[]),(0,a.jsx)(H,{className:"flex items-center gap-1 text-xs px-2 py-1 bg-slate-600/50 text-slate-400 border-slate-600/50",children:(0,a.jsx)(K.M,{mode:"wait",initial:!1,children:(0,a.jsx)(n.E.span,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.3},children:e[t]},t)})})},ec=e=>{if(e.includes("긍정")){let t={containerBg:"rgba(16, 185, 129, 0.1)",barBg:"rgba(16, 185, 129, 0.4)",textColor:"rgb(52, 211, 153)",borderColor:"rgba(16, 185, 129, 0.3)"};return"강한 긍정"===e?{...t,barBg:"rgba(16, 185, 129, 0.6)",textColor:"rgb(110, 231, 183)"}:"약한 긍정"===e?{...t,barBg:"rgba(16, 185, 129, 0.2)",textColor:"rgb(107, 114, 128)"}:t}if(e.includes("부정")){let t={containerBg:"rgba(239, 68, 68, 0.1)",barBg:"rgba(239, 68, 68, 0.4)",textColor:"rgb(248, 113, 113)",borderColor:"rgba(239, 68, 68, 0.3)"};return"강한 부정"===e?{...t,barBg:"rgba(239, 68, 68, 0.6)",textColor:"rgb(252, 165, 165)"}:"약한 부정"===e?{...t,barBg:"rgba(239, 68, 68, 0.2)",textColor:"rgb(107, 114, 128)"}:t}return{containerBg:"rgba(100, 116, 139, 0.1)",barBg:"rgba(100, 116, 139, 0.4)",textColor:"rgb(148, 163, 184)",borderColor:"rgba(100, 116, 139, 0.2)"}},ed=e=>{let{score:t,label:s}=e,l={"강한 긍정":{icon:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(G.Z,{size:12,className:"-mr-1"}),(0,a.jsx)(G.Z,{size:12})]})},긍정적:{icon:(0,a.jsx)(G.Z,{size:12})},"약한 긍정":{icon:(0,a.jsx)(G.Z,{size:12})},중립적:{icon:(0,a.jsx)(J.Z,{size:12})},"약한 부정":{icon:(0,a.jsx)(q.Z,{size:12})},부정적:{icon:(0,a.jsx)(q.Z,{size:12})},"강한 부정":{icon:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(q.Z,{size:12,className:"-mr-1"}),(0,a.jsx)(q.Z,{size:12})]})}},r=l[s]||l["중립적"],i=ec(s),o=(100*t).toFixed(1);return(0,a.jsx)(et,{delayDuration:200,children:(0,a.jsxs)(es,{children:[(0,a.jsx)(ea,{asChild:!0,children:(0,a.jsxs)(H,{style:{backgroundColor:i.containerBg,color:i.textColor,borderColor:i.borderColor},className:"relative flex items-center gap-1 text-xs px-2 py-1 overflow-hidden",children:[(0,a.jsx)(n.E.div,{className:"absolute left-0 top-0 h-full",style:{backgroundColor:i.barBg},initial:{width:"0%"},animate:{width:"".concat(o,"%")},transition:{duration:.5,ease:"easeOut"}}),(0,a.jsxs)("div",{className:"relative flex items-center gap-1",children:[r.icon,(0,a.jsx)("span",{children:s})]})]})}),(0,a.jsx)(el,{className:"bg-slate-800 border-slate-700 text-slate-200",children:(0,a.jsxs)("p",{children:[s," 분석 (신뢰도: ",o,"%)"]})})]})})};function em(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(""),[i,o]=(0,r.useState)("전체"),[c,d]=(0,r.useState)(!0),[m,x]=(0,r.useState)(!1),u=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=async()=>{x(!1);try{let e=await fetch("/api/news?limit=30");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let s=await e.json();s.success&&Array.isArray(s.data)?t(s.data):x(!0)}catch(e){console.error("Failed to fetch news data:",e),x(!0)}finally{d(!1)}};e();let s=setInterval(e,12e4);if(!u.current||u.current.readyState===WebSocket.CLOSED){var a;let e=null===(a=er.env.NEXT_PUBLIC_BACKEND_API_URL)||void 0===a?void 0:a.replace(/^http/,"ws"),s=new WebSocket("".concat(e,"/ws/realtime-news"));u.current=s,s.onopen=()=>{console.log("RealTimeNews: WebSocket connection successful")},s.onmessage=e=>{try{let s=JSON.parse(e.data);t(e=>[s,...e])}catch(e){console.error("RealTimeNews: Error processing WebSocket message:",e)}},s.onerror=e=>{console.error("RealTimeNews: WebSocket Error:",e)},s.onclose=e=>{console.log("RealTimeNews: WebSocket connection closed:",e.reason),u.current=null}}return()=>{clearInterval(s),u.current&&u.current.readyState===WebSocket.OPEN&&u.current.close()}},[]);let f=(0,r.useMemo)(()=>{let t=e;if("전체"!==i&&(t=t.filter(e=>e.sentiment_label===i)),s){let e=s.toLowerCase();t=t.filter(t=>{var s;return t.title.toLowerCase().includes(e)||(null===(s=t.content)||void 0===s?void 0:s.toLowerCase().includes(e))})}return t},[e,i,s]);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsx)("div",{className:"flex-grow flex gap-2",children:(0,a.jsx)(I.I,{placeholder:"뉴스 제목 또는 내용 검색...인",value:s,onChange:e=>l(e.target.value),className:"bg-slate-800 border-slate-600 text-slate-200 placeholder:text-slate-500 focus:border-indigo-500 focus:ring-indigo-500"})}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsxs)($.Ph,{value:i,onValueChange:o,children:[(0,a.jsx)($.i4,{className:"w-full sm:w-[150px] bg-slate-800 border-slate-600 text-slate-200 focus:border-indigo-500 focus:ring-indigo-500",children:(0,a.jsx)($.ki,{})}),(0,a.jsxs)($.Bw,{className:"bg-slate-800 border-slate-700 text-slate-200",children:[(0,a.jsx)($.Ql,{value:"전체",children:"전체 감성"}),(0,a.jsx)($.Ql,{value:"긍정적",children:"긍정적"}),(0,a.jsx)($.Ql,{value:"중립적",children:"중립적"}),(0,a.jsx)($.Ql,{value:"부정적",children:"부정적"})]})]})})]}),c?(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsx)(L.Z,{className:"animate-spin text-slate-400",size:32})}):m?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-red-400",children:[(0,a.jsx)(V.Z,{size:32}),(0,a.jsx)("p",{className:"mt-2",children:"뉴스를 불러오는 데 실패했습니다."})]}):0===f.length?(0,a.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,a.jsx)("p",{children:"표시할 뉴스가 없습니다."})}):(0,a.jsx)(n.E.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",variants:en,initial:"hidden",animate:"visible",children:(0,a.jsx)(K.M,{children:f.map(e=>{let t=e.source?e.source.startsWith("http://")||e.source.startsWith("https://")?new URL(e.source).hostname.replace("www.",""):e.source:"알 수 없음",s=e.link&&(e.link.startsWith("http://")||e.link.startsWith("https://")),l=s?n.E.a:n.E.div;return(0,a.jsxs)(l,{href:s?e.link:void 0,target:s?"_blank":void 0,rel:s?"noopener noreferrer":void 0,variants:ei,layout:!0,className:"block bg-slate-800/50 border border-slate-700/50 rounded-lg p-4 transition-all ".concat(s?"hover:bg-slate-800 hover:border-indigo-500/50 cursor-pointer":"cursor-default"),children:[(0,a.jsx)("h3",{className:"font-semibold text-slate-200 mb-2",children:e.title}),(0,a.jsxs)("p",{className:"text-xs text-slate-500 mb-3",children:[t," - ",new Date(e.published_at).toLocaleString("ko-KR",{timeZone:"Asia/Seoul"})]}),e.sentiment_label?(0,a.jsx)(ed,{score:e.sentiment_score||0,label:e.sentiment_label}):(0,a.jsx)(eo,{})]},"".concat(e.title,"-").concat(e.published_at))})})})]})}var ex=s(6070),eu=s(6815);let ef=r.memo(()=>(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-slate-200 text-center",children:"투자 분석 도구"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)(ex.Zb,{className:"bg-slate-800/50 border-slate-700",children:[(0,a.jsx)(ex.Ol,{children:(0,a.jsx)(ex.ll,{className:"text-lg font-semibold text-slate-300",children:"복리 계산기"})}),(0,a.jsxs)(ex.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eu._,{htmlFor:"principal",className:"text-sm font-medium text-slate-400",children:"초기 투자 금액 (원)"}),(0,a.jsx)(I.I,{id:"principal",type:"number",placeholder:"1,000,000",className:"bg-slate-800 border-slate-600 text-slate-200 placeholder:text-slate-500 focus:border-indigo-500 focus:ring-indigo-500"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eu._,{htmlFor:"annualRate",className:"text-sm font-medium text-slate-400",children:"연 수익률 (%)"}),(0,a.jsx)(I.I,{id:"annualRate",type:"number",placeholder:"7",className:"bg-slate-800 border-slate-600 text-slate-200 placeholder:text-slate-500 focus:border-indigo-500 focus:ring-indigo-500"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eu._,{htmlFor:"years",className:"text-sm font-medium text-slate-400",children:"투자 기간 (년)"}),(0,a.jsx)(I.I,{id:"years",type:"number",placeholder:"10",className:"bg-slate-800 border-slate-600 text-slate-200 placeholder:text-slate-500 focus:border-indigo-500 focus:ring-indigo-500"})]}),(0,a.jsx)(R.z,{className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold",children:"계산하기"}),(0,a.jsx)("div",{className:"mt-4 p-3 bg-slate-800 rounded-md text-slate-300 border border-slate-700",children:(0,a.jsxs)("p",{children:["최종 금액: ",(0,a.jsx)("span",{className:"font-bold text-white",children:"계산 결과"})]})})]})]}),(0,a.jsxs)(ex.Zb,{className:"bg-slate-800/50 border-slate-700",children:[(0,a.jsx)(ex.Ol,{children:(0,a.jsx)(ex.ll,{className:"text-lg font-semibold text-slate-300",children:"월 적립식 투자 계산기"})}),(0,a.jsxs)(ex.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eu._,{htmlFor:"monthlyAmount",className:"text-sm font-medium text-slate-400",children:"월 적립 금액 (원)"}),(0,a.jsx)(I.I,{id:"monthlyAmount",type:"number",placeholder:"500,000",className:"bg-slate-800 border-slate-600 text-slate-200 placeholder:text-slate-500 focus:border-indigo-500 focus:ring-indigo-500"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eu._,{htmlFor:"monthlyRate",className:"text-sm font-medium text-slate-400",children:"연 수익률 (%)"}),(0,a.jsx)(I.I,{id:"monthlyRate",type:"number",placeholder:"8",className:"bg-slate-800 border-slate-600 text-slate-200 placeholder:text-slate-500 focus:border-indigo-500 focus:ring-indigo-500"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eu._,{htmlFor:"monthlyYears",className:"text-sm font-medium text-slate-400",children:"투자 기간 (년)"}),(0,a.jsx)(I.I,{id:"monthlyYears",type:"number",placeholder:"5",className:"bg-slate-800 border-slate-600 text-slate-200 placeholder:text-slate-500 focus:border-indigo-500 focus:ring-indigo-500"})]}),(0,a.jsx)(R.z,{className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold",children:"계산하기"}),(0,a.jsx)("div",{className:"mt-4 p-3 bg-slate-800 rounded-md text-slate-300 border border-slate-700",children:(0,a.jsxs)("p",{children:["최종 금액: ",(0,a.jsx)("span",{className:"font-bold text-white",children:"계산 결과"})]})})]})]})]})]}));var eh=s(9270);let ep=r.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(eh.fC,{ref:t,className:(0,o.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...l,children:(0,a.jsx)(eh.z$,{className:(0,o.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(w.Z,{className:"h-4 w-4"})})})});ep.displayName=eh.fC.displayName;var eg=s(1098),eb=s(6818),ej=function(e,t){let s=()=>{try{let s=window.localStorage.getItem(e);return s?JSON.parse(s):t}catch(s){return console.warn("Error reading localStorage key “".concat(e,"”:"),s),t}},[a,l]=(0,r.useState)(s);return(0,r.useEffect)(()=>{l(s())},[]),[a,t=>{try{let s=t instanceof Function?t(a):t;l(s),window.localStorage.setItem(e,JSON.stringify(s))}catch(t){console.warn("Error setting localStorage key “".concat(e,"”:"),t)}}]},ev=s(5554),eN=s(5698),ey=s(6937),ew=s(8930),ek=s(5455),eS=s(2660),eC=s(3229),e_=s(7107),ez=s(2578);let eE={high:{label:"중요",color:"bg-red-500"},medium:{label:"보통",color:"bg-yellow-500"},low:{label:"낮음",color:"bg-blue-500"}},eZ=e=>{let{selectedDate:t,data:s,onUpdate:l}=e,[i,u]=(0,r.useState)(""),[f,h]=(0,r.useState)("medium"),[p,g]=(0,r.useState)(""),[b,j]=(0,r.useState)("12:00"),[v,N]=(0,r.useState)(null),[y,w]=(0,r.useState)("list");(0,r.useEffect)(()=>{w("list"),N(null)},[t]);let k=(e,t)=>{l({...s||{tasks:[],events:[],notes:[]},[e]:t})},S=()=>{i.trim()&&(k("tasks",[...s.tasks,{id:Date.now(),text:i,completed:!1,priority:f}]),u(""),h("medium"))},C=e=>k("tasks",s.tasks.map(t=>t.id===e?{...t,completed:!t.completed}:t)),_=e=>k("tasks",s.tasks.filter(t=>t.id!==e)),z=()=>{p.trim()&&(k("events",[...s.events,{id:Date.now(),time:b,title:p}].sort((e,t)=>e.time.localeCompare(t.time))),g(""))},E=e=>k("events",s.events.filter(t=>t.id!==e)),Z=e=>{k("notes",s.notes.filter(t=>t.id!==e)),N(null),w("list")};return(0,a.jsxs)(ex.Zb,{className:"bg-slate-800/50 border-slate-700 h-full flex flex-col",children:[(0,a.jsx)(ex.Ol,{children:(0,a.jsx)(ex.ll,{className:"text-xl font-bold text-slate-200",children:(0,e_.WU)(t,"yyyy년 MM월 dd일 (eee)",{locale:ez.ko})})}),(0,a.jsx)(ex.aY,{className:"flex-grow flex flex-col",children:(0,a.jsxs)(c,{defaultValue:"planner",className:"flex-grow flex flex-col",children:[(0,a.jsxs)(d,{className:"grid w-full grid-cols-2",children:[(0,a.jsxs)(m,{value:"planner",children:[(0,a.jsx)(ev.Z,{className:"mr-2 h-4 w-4"}),"플래너"]}),(0,a.jsxs)(m,{value:"notes",children:[(0,a.jsx)(eN.Z,{className:"mr-2 h-4 w-4"}),"노트"]})]}),(0,a.jsxs)(x,{value:"planner",className:"flex-grow flex flex-col space-y-4 pt-4",children:[(0,a.jsxs)(ex.Zb,{className:"bg-slate-900/50 border-slate-700/80",children:[(0,a.jsx)(ex.Ol,{className:"pb-4",children:(0,a.jsx)(ex.ll,{className:"text-lg font-semibold text-indigo-400",children:"일정"})}),(0,a.jsxs)(ex.aY,{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,a.jsx)(I.I,{type:"time",value:b,onChange:e=>j(e.target.value),className:"bg-slate-800 border-slate-600 w-full sm:w-auto"}),(0,a.jsx)(I.I,{placeholder:"새로운 일정",value:p,onChange:e=>g(e.target.value),onKeyPress:e=>"Enter"===e.key&&z(),className:"bg-slate-800 border-slate-600 flex-1"}),(0,a.jsxs)(R.z,{onClick:z,className:"bg-indigo-600 hover:bg-indigo-700 flex-shrink-0",children:[(0,a.jsx)(ey.Z,{size:16,className:"mr-2"}),"추가"]})]}),(0,a.jsx)("div",{className:"space-y-2 max-h-32 overflow-y-auto pr-2",children:s.events.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-2.5 rounded-md bg-slate-800",children:[(0,a.jsx)("span",{className:"font-bold text-indigo-300 w-14 text-sm",children:e.time}),(0,a.jsx)("span",{className:"flex-1 text-slate-200 text-sm break-all",children:e.title}),(0,a.jsx)(R.z,{onClick:()=>E(e.id),variant:"ghost",size:"icon",className:"h-7 w-7 text-slate-500 hover:text-red-500 flex-shrink-0",children:(0,a.jsx)(ew.Z,{size:16})})]},e.id))})]})]}),(0,a.jsxs)(ex.Zb,{className:"bg-slate-900/50 border-slate-700/80",children:[(0,a.jsx)(ex.Ol,{className:"pb-4",children:(0,a.jsx)(ex.ll,{className:"text-lg font-semibold text-indigo-400",children:"할 일"})}),(0,a.jsxs)(ex.aY,{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,a.jsx)(I.I,{placeholder:"새로운 할 일",value:i,onChange:e=>u(e.target.value),onKeyPress:e=>"Enter"===e.key&&S(),className:"bg-slate-800 border-slate-600 flex-1"}),(0,a.jsxs)($.Ph,{value:f,onValueChange:e=>h(e),children:[(0,a.jsx)($.i4,{className:"w-full sm:w-[120px] bg-slate-800 border-slate-600",children:(0,a.jsx)($.ki,{placeholder:"우선순위"})}),(0,a.jsx)($.Bw,{className:"bg-slate-800 text-white",children:Object.entries(eE).map(e=>{let[t,s]=e;return(0,a.jsx)($.Ql,{value:t,children:s.label},t)})})]}),(0,a.jsxs)(R.z,{onClick:S,className:"bg-indigo-600 hover:bg-indigo-700 flex-shrink-0",children:[(0,a.jsx)(ey.Z,{size:16,className:"mr-2"}),"추가"]})]}),(0,a.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-2",children:s.tasks.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-2.5 rounded-md bg-slate-800",children:[(0,a.jsx)(ep,{id:"t-".concat(e.id),checked:e.completed,onCheckedChange:()=>C(e.id)}),(0,a.jsx)("label",{htmlFor:"t-".concat(e.id),className:(0,o.cn)("flex-1 text-sm",e.completed?"line-through text-slate-500":"text-slate-200"),children:e.text}),(0,a.jsx)("div",{className:(0,o.cn)("w-3 h-3 rounded-full flex-shrink-0",eE[e.priority].color)}),(0,a.jsx)(R.z,{onClick:()=>_(e.id),variant:"ghost",size:"icon",className:"h-7 w-7 text-slate-500 hover:text-red-500 flex-shrink-0",children:(0,a.jsx)(ew.Z,{size:16})})]},e.id))})]})]})]}),(0,a.jsx)(x,{value:"notes",className:"flex-grow flex flex-col pt-4",children:(0,a.jsx)(K.M,{mode:"wait",children:"list"===y?(0,a.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex-grow flex flex-col",children:[(0,a.jsxs)(R.z,{onClick:()=>{let e={id:Date.now(),title:"새 노트",content:""};k("notes",[...s.notes,e]),N(e),w("editor")},className:"w-full mb-2",children:[(0,a.jsx)(ey.Z,{size:16,className:"mr-2"}),"새 노트"]}),(0,a.jsx)("div",{className:"space-y-2 flex-grow overflow-y-auto pr-2",children:s.notes.map(e=>(0,a.jsxs)(R.z,{variant:"ghost",onClick:()=>{N(e),w("editor")},className:"w-full justify-start truncate",children:[(0,a.jsx)(ek.Z,{size:14,className:"mr-2 flex-shrink-0"}),e.title]},e.id))})]},"list"):(0,a.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex-grow flex flex-col space-y-2",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)(R.z,{onClick:()=>w("list"),variant:"outline",size:"icon",className:"flex-shrink-0",children:(0,a.jsx)(eS.Z,{size:16})}),(0,a.jsx)(I.I,{value:(null==v?void 0:v.title)||"",onChange:e=>N(t=>t?{...t,title:e.target.value}:null),placeholder:"노트 제목",className:"bg-slate-900/80 text-lg font-bold"}),(0,a.jsx)(R.z,{onClick:()=>{v&&(k("notes",s.notes.map(e=>e.id===v.id?v:e)),w("list"))},size:"icon",children:(0,a.jsx)(eC.Z,{size:16})}),(0,a.jsx)(R.z,{onClick:()=>Z(v.id),variant:"destructive",size:"icon",children:(0,a.jsx)(ew.Z,{size:16})})]}),(0,a.jsx)(eb.g,{value:(null==v?void 0:v.content)||"",onChange:e=>N(t=>t?{...t,content:e.target.value}:null),placeholder:"내용을 입력하세요...",className:"bg-slate-900/80 flex-grow resize-none"})]},"editor")})})]})})]})};var eR=r.memo(()=>{let[e,t]=ej("pro-daily-dashboard",{}),[s,l]=(0,r.useState)(new Date),n=(s,a)=>{let l=e[s]||{tasks:[],events:[],notes:[]};t({...e,[s]:{...l,...a}})},i=(0,e_.WU)(s,"yyyy-MM-dd"),o=e[i],c={tasks:(null==o?void 0:o.tasks)||[],events:(null==o?void 0:o.events)||[],notes:(null==o?void 0:o.notes)||[]};return(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"md:col-span-1",children:(0,a.jsx)(ex.Zb,{className:"bg-slate-800/50 border-slate-700",children:(0,a.jsx)(ex.aY,{className:"p-0",children:(0,a.jsx)(eg.f,{mode:"single",selected:s,onSelect:e=>e&&l(e),className:"w-full",components:{DayContent:t=>{let{date:s}=t,l=(0,e_.WU)(s,"yyyy-MM-dd"),r=e[l]&&(e[l].tasks.length>0||e[l].events.length>0||e[l].notes.length>0);return(0,a.jsxs)("div",{className:"relative w-full h-full flex items-center justify-center",children:[(0,a.jsx)("span",{children:(0,e_.WU)(s,"d")}),r&&(0,a.jsx)("div",{className:"absolute bottom-1 w-1.5 h-1.5 bg-yellow-400 rounded-full"})]})}}})})})}),(0,a.jsx)("div",{className:"md:col-span-2",children:(0,a.jsx)(eZ,{selectedDate:s,data:c,onUpdate:e=>n(i,e)})})]})}),eO=s(8846);let eI=r.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsxs)(eO.fC,{ref:t,className:(0,o.cn)("relative flex w-full touch-none select-none items-center",s),...l,children:[(0,a.jsx)(eO.fQ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,a.jsx)(eO.e6,{className:"absolute h-full bg-primary"})}),(0,a.jsx)(eO.bU,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});eI.displayName=eO.fC.displayName;var eT=s(4286),eA=s(8906),eD=s(5005),eP=s(1239),eL=s(5565),eV=s(6076),eM=s(1476),eU=s(6595),eW=s(8896),eY=s(5153),eB=s(257);let eF=[{level:1,name:"원금 보존 추구 (매우 안전)",displayName:"원금 보존 (매우 안전)",icon:eT.Z,color:"text-cyan-400",assets:[{type:"개별 채권",detail:"만기일 '2027년 6월' 전후, 신용등급 'AAA' 또는 'AA+'"},{type:"ETF",detail:"KODEX 단기채권, TIGER 단기통안채"}],goldenRule:{title:"만기 보유의 마법을 믿어라",description:"중간에 채권 가격이 하락하더라도 만기까지 보유하면 원금과 약속된 이자를 모두 받을 수 있습니다. 시장의 소음으로부터 당신의 자산을 지키는 가장 강력한 방패입니다."}},{level:2,name:"시장금리 + α 추구 (안전)",displayName:"시장금리+α (안전)",icon:eA.Z,color:"text-blue-400",assets:[{type:"주식",detail:"KODEX 200"},{type:"채권",detail:"KODEX 국고채3년"},{type:"대체",detail:"KODEX 골드선물(H)"}],goldenRule:{title:"최대 비중의 족쇄를 채워라",description:"어떤 경우에도 단일 자산의 최대 비중은 40%를 넘지 않도록 제약조건을 추가하여 의도치 않은 집중투자를 방지합니다."}},{level:3,name:"시장 안정성 + 개인적 확신 (중립 안전)",displayName:"안정성 + 확신 (중립 안전)",icon:eD.Z,color:"text-teal-400",assets:[{type:"섹터 주식",detail:"TIGER 200 IT"},{type:"시장 주식",detail:"KODEX 200"},{type:"채권",detail:"KOSEF 국고채10년"}],goldenRule:{title:"소수의견의 원칙을 지켜라",description:"동시에 적용하는 '관점(View)'의 개수는 3개를 넘지 않도록 하여 모델의 과도한 복잡성과 개인 편향을 방지합니다."}},{level:4,name:"위험-수익 균형 추구 (중립)",displayName:"위험-수익 균형 (중립)",icon:G.Z,color:"text-yellow-400",assets:[{type:"자산군",detail:"KOSPI/KOSDAQ 시총 상위 50개 종목, 섹터 ETF 등"}],goldenRule:{title:"최소 분산의 방패를 들어라",description:"미래 기대수익률 예측을 포기하고, 변동성과 상관관계만을 이용해 '최소 분산 포트폴리오'를 구성하는 것이 예측 오류를 원천 차단하는 가장 현실적인 대안입니다."}},{level:5,name:"성장 테마 집중 투자 (중립 공격)",displayName:"성장 테마 집중 (중립 공격)",icon:eP.Z,color:"text-orange-400",assets:[{type:"테마 자산",detail:"특정 테마(예: AI, 로봇) 관련 종목 20~30개"}],goldenRule:{title:"테마 순환의 파도를 타라",description:"분기별로 테마의 뉴스량, 거래대금 등을 점검하여 시장의 관심이 식었다고 판단되면 테마 자체를 교체하는 것을 고려합니다."}},{level:6,name:"시장 추세 적극 활용 (공격)",displayName:"시장 추세 활용 (공격)",icon:eL.Z,color:"text-red-400",assets:[{type:"위험자산",detail:"KODEX 200, TIGER 미국S&P500 등"},{type:"안전자산",detail:"KODEX 단기채권"}],goldenRule:{title:"3연속 손실의 멈춤 신호를 존중하라",description:"월별 리밸런싱 결과 3개월 연속 손실 시, 4개월 차에는 100% 안전자산으로 전환 후 한 달간 쉬어 횡보장 손실을 방어합니다."}},{level:7,name:"변동성을 이용한 수익 극대화 (매우 공격)",displayName:"수익 극대화 (매우 공격)",icon:eV.Z,color:"text-fuchsia-500",assets:[{type:"파생/레버리지",detail:"KOSPI 200 선물, KODEX 레버리지, KODEX 인버스2X"}],goldenRule:{title:"최대 손실폭(MDD)의 방아쇠는 신성불가침이다",description:"총자산이 고점 대비 -20% 도달 시, 모든 위험자산을 즉시 청산하고 최소 1개월 이상 투자를 중단하는 규칙을 최우선으로 설정합니다."}}],eK=e=>{let t=e.market_cap||0,s=e.volume||0,a=0;"KOSPI"===e.market&&(a+=20),t>1e5?a+=50:t>1e4&&(a+=30);let l=0;return"KOSDAQ"===e.market&&(l+=20),s>1e6&&(l+=20),t<5e3&&t>1e3&&(l+=30),{stabilityScore:a,growthScore:l}},eX=(e,t)=>{if(!t||0===t.length)return[];let s=t.map(e=>{let{stabilityScore:t,growthScore:s}=eK(e);return{...e,stabilityScore:t,growthScore:s,finalScore:0}}),a=[];switch(e){case 1:a=s.sort((e,t)=>t.stabilityScore-e.stabilityScore);break;case 2:a=s.map(e=>({...e,finalScore:.7*e.stabilityScore+.3*e.growthScore})).sort((e,t)=>t.finalScore-e.finalScore);break;case 3:a=[...s.filter(e=>"KOSPI"===e.market).sort((e,t)=>t.stabilityScore-e.stabilityScore).slice(0,3),...s.filter(e=>"KOSDAQ"===e.market&&(e.name.includes("IT")||e.name.includes("소프트")||e.name.includes("AI"))).sort((e,t)=>t.growthScore-e.growthScore).slice(0,2)];break;case 4:a=s.map(e=>({...e,finalScore:.5*e.stabilityScore+.5*e.growthScore})).sort((e,t)=>t.finalScore-e.finalScore);break;case 5:a=s.map(e=>({...e,finalScore:.8*e.growthScore+.2*e.stabilityScore})).sort((e,t)=>t.finalScore-e.finalScore);break;case 6:a=s.map(e=>({...e,finalScore:e.growthScore+e.volume/1e5})).sort((e,t)=>t.finalScore-e.finalScore);break;case 7:a=s.filter(e=>e.market_cap<2e3).sort((e,t)=>t.growthScore-e.growthScore);break;default:a=s}return a.slice(0,5).map(e=>({...e,reason:"안정성 ".concat(e.stabilityScore," / 성장성 ").concat(e.growthScore)}))};function eQ(){let[e,t]=(0,r.useState)([4]),[s,l]=(0,r.useState)(null),[i,o]=(0,r.useState)(null),{toast:c}=(0,eY.pm)(),[d,m]=(0,r.useState)([]),[x,u]=(0,r.useState)(!0),[f,h]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{u(!0),h(!1);try{let e=await fetch("".concat(eB.env.NEXT_PUBLIC_STOCK_API_URL,"/api/all-companies?limit=1500"));if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.json();t.success&&Array.isArray(t.data)?m(t.data):h(!0)}catch(e){console.error("Failed to fetch initial stock data for WisePortfolio:",e),h(!0)}finally{u(!1)}})()},[]);let p=(0,r.useMemo)(()=>eF[e[0]-1],[e]);return(0,a.jsx)(et,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)(ex.Zb,{className:"lg:col-span-1 bg-slate-800/50 border-slate-700 h-full",children:[(0,a.jsxs)(ex.Ol,{className:"text-center",children:[(0,a.jsxs)("div",{className:"flex justify-center items-center gap-3 flex-nowrap",children:[(0,a.jsx)(p.icon,{size:22,className:"".concat(p.color," flex-shrink-0")}),(0,a.jsx)(ex.ll,{className:"text-xl font-semibold truncate ".concat(p.color),children:p.displayName})]}),(0,a.jsx)(ex.SZ,{className:"text-sm text-slate-400 pt-1",children:"나의 투자 위험도 설정 (1~7단계)"})]}),(0,a.jsxs)(ex.aY,{className:"flex flex-col justify-center items-center space-y-6 pt-4",children:[(0,a.jsxs)("div",{className:"w-full px-4",children:[(0,a.jsx)(eI,{value:e,onValueChange:t,min:1,max:7,step:1,className:"[&>span:first-child]:bg-indigo-600"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-slate-500 mt-2",children:[(0,a.jsx)("span",{children:"매우 안정"}),(0,a.jsx)("span",{children:"중립"}),(0,a.jsx)("span",{children:"매우 공격"})]})]}),(0,a.jsxs)(R.z,{onClick:()=>{l(p),o(eX(p.level,d)),c({title:"투자 전략 및 포트폴리오 생성 완료",description:"선택하신 '".concat(p.name,"' 성향에 맞는 가이드와 추천 예시가 준비되었습니다.")})},className:"w-full max-w-xs bg-indigo-600 hover:bg-indigo-700 text-white font-semibold group",children:["투자 전략 가이드 보기",(0,a.jsx)(eM.Z,{className:"ml-2 h-4 w-4 group-hover:animate-pulse"})]})]})]}),(0,a.jsx)("div",{className:"lg:col-span-2",children:s?(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col lg:flex-col-reverse gap-8",children:[i&&i.length>0&&(0,a.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.3}},children:(0,a.jsxs)(ex.Zb,{className:"bg-slate-800/50 border-slate-700",children:[(0,a.jsxs)(ex.Ol,{children:[(0,a.jsx)(ex.ll,{className:"text-lg font-semibold text-slate-300",children:"포트폴리오 추천 예시"}),(0,a.jsx)(ex.SZ,{className:"text-sm text-slate-400",children:"위 전략에 따라 생성된 5개 종목 예시입니다. (실제 투자 추천이 아닙니다)"})]}),(0,a.jsx)(ex.aY,{children:(0,a.jsx)("ul",{className:"space-y-3",children:i.map(e=>(0,a.jsxs)("li",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-md border border-slate-700/50",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-semibold text-indigo-400",children:[e.name," ",(0,a.jsxs)("span",{className:"text-xs text-slate-500",children:["(",e.code,")"]})]}),(0,a.jsx)("p",{className:"text-xs text-slate-400",children:e.reason})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"font-mono text-slate-200",children:[e.currentPrice.toLocaleString(),"원"]}),(0,a.jsxs)("p",{className:"text-xs font-semibold ".concat(e.change_rate>0?"text-green-400":e.change_rate<0?"text-red-400":"text-slate-500"),children:[e.change_rate,"%"]})]})]},e.code))})})]})}),(0,a.jsxs)(ex.Zb,{className:"bg-slate-800/50 border-slate-700",children:[(0,a.jsx)(ex.Ol,{children:(0,a.jsx)(ex.ll,{className:"text-lg font-semibold text-slate-300",children:"단계별 투자 전략 가이드"})}),(0,a.jsxs)(ex.aY,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-yellow-500/20 to-slate-900/10 p-5 rounded-lg border-2 border-yellow-400/50 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center mb-3",children:[(0,a.jsx)(eU.Z,{className:"h-6 w-6 mr-3 text-yellow-400 animate-pulse"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-yellow-300",children:s.goldenRule.title})]}),(0,a.jsx)("p",{className:"text-yellow-200/90 text-sm leading-relaxed",children:s.goldenRule.description})]}),(0,a.jsx)(e=>{let{icon:t,title:s,children:l}=e;return(0,a.jsxs)("div",{className:"bg-slate-900/50 p-4 rounded-lg border border-slate-700/50 h-full",children:[(0,a.jsxs)("div",{className:"flex items-center mb-3",children:[(0,a.jsx)(t,{className:"h-5 w-5 mr-2 text-indigo-400"}),(0,a.jsx)("h3",{className:"font-semibold text-slate-200 text-md",children:s})]}),(0,a.jsx)("div",{className:"text-sm text-slate-400 space-y-2",children:l})]})},{icon:eW.Z,title:"구체적 자산",children:(0,a.jsx)("ul",{className:"space-y-2",children:s.assets.map(e=>(0,a.jsxs)("li",{children:[(0,a.jsxs)("span",{className:"font-semibold text-slate-300",children:[e.type,":"]})," ",e.detail]},e.type))})})]})]})]},s.level):(0,a.jsx)("div",{className:"flex items-center justify-center h-full rounded-lg bg-slate-800/30 border-2 border-dashed border-slate-700",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-slate-400",children:"투자 성향을 설정하고 버튼을 눌러"}),(0,a.jsx)("p",{className:"text-sm text-slate-500 mt-2",children:"단계별 투자 전략과 포트폴리오 예시를 확인하세요."})]})})})]})})}var eH=s(3643);let eG=r.forwardRef((e,t)=>{let{className:s,children:l,...r}=e;return(0,a.jsxs)(eH.fC,{ref:t,className:(0,o.cn)("relative overflow-hidden",s),...r,children:[(0,a.jsx)(eH.l_,{className:"h-full w-full rounded-[inherit]",children:l}),(0,a.jsx)(eJ,{}),(0,a.jsx)(eH.Ns,{})]})});eG.displayName=eH.fC.displayName;let eJ=r.forwardRef((e,t)=>{let{className:s,orientation:l="vertical",...r}=e;return(0,a.jsx)(eH.gb,{ref:t,orientation:l,className:(0,o.cn)("flex touch-none select-none transition-colors","vertical"===l&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===l&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...r,children:(0,a.jsx)(eH.q4,{className:"relative flex-1 rounded-full bg-border"})})});eJ.displayName=eH.gb.displayName;var eq=s(3247),e$=s(6540),e0=s(623),e1=s(9388),e2=s(257);function e5(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)([]),[i,o]=(0,r.useState)(""),[c,d]=(0,r.useState)(!0),[m,x]=(0,r.useState)(null),{toast:u}=(0,eY.pm)();(0,r.useEffect)(()=>{(async()=>{try{d(!0);let e=await fetch("".concat(e2.env.NEXT_PUBLIC_STOCK_API_URL,"/api/all-companies"));if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let s=await e.json();if(s.success&&Array.isArray(s.data))t(s.data.map(e=>({code:e.code,name:e.name,market:e.market,marketCap:e.market_cap?String(e.market_cap):void 0,currentPrice:e.currentPrice?String(e.currentPrice):void 0})));else throw Error("Invalid data format received from server.")}catch(e){console.error("Failed to fetch company data:",e),x("데이터 서버에 연결할 수 없습니다. stock-service가 실행 중인지 확인해주세요.")}finally{d(!1)}})()},[]);let f=(0,r.useMemo)(()=>{if(!i)return[];let t=i.toLowerCase();return e.filter(e=>e.name.toLowerCase().includes(t)||e.code.includes(i)).slice(0,50)},[i,e]),h=e=>{if(s.some(t=>t.code===e.code)){u({variant:"destructive",title:"종목 중복",description:"".concat(e.name,"은(는) 이미 포트폴리오에 존재합니다.")});return}l([...s,{...e,weight:10}]),o("")},p=e=>{l(s.filter(t=>t.code!==e))},g=(e,t)=>{l(s.map(s=>s.code===e?{...s,weight:Math.max(0,Math.min(100,t))}:s))},b=(0,r.useMemo)(()=>s.reduce((e,t)=>e+t.weight,0),[s]);return(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mt-8",children:[(0,a.jsxs)(ex.Zb,{className:"lg:col-span-1 bg-slate-800/50 border-slate-700",children:[(0,a.jsxs)(ex.Ol,{children:[(0,a.jsx)(ex.ll,{className:"text-lg font-semibold text-slate-300",children:"종목 검색"}),(0,a.jsx)(ex.SZ,{className:"text-sm text-slate-400",children:"포트폴리오에 추가할 종목을 찾아보세요."})]}),(0,a.jsxs)(ex.aY,{children:[(0,a.jsxs)("div",{className:"relative mb-4",children:[(0,a.jsx)(eq.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-500"}),(0,a.jsx)(I.I,{placeholder:"종목명 또는 코드로 검색...",value:i,onChange:e=>o(e.target.value),className:"pl-10 bg-slate-900/80 border-slate-600 text-white"})]}),(0,a.jsx)(eG,{className:"h-[400px] pr-4",children:c?(0,a.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,a.jsx)(e$.Z,{className:"h-8 w-8 text-indigo-400 animate-spin"})}):m?(0,a.jsxs)("div",{className:"text-center text-red-400 flex flex-col items-center h-full justify-center",children:[(0,a.jsx)(e0.Z,{className:"h-10 w-10 mb-4"}),(0,a.jsx)("p",{className:"font-semibold",children:"데이터 로딩 실패"}),(0,a.jsx)("p",{className:"text-xs mt-2",children:m})]}):f.length>0?(0,a.jsx)("ul",{className:"space-y-2",children:f.map(e=>(0,a.jsxs)("li",{className:"flex items-center justify-between p-2 rounded-md bg-slate-900/50 hover:bg-slate-700/50 transition-colors",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-slate-200",children:e.name}),(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:[e.code," \xb7 ",e.market]})]}),(0,a.jsx)(R.z,{size:"sm",variant:"ghost",onClick:()=>h(e),children:(0,a.jsx)(ey.Z,{className:"h-5 w-5 text-green-400"})})]},e.code))}):(0,a.jsx)("div",{className:"text-center pt-16 text-slate-500",children:(0,a.jsx)("p",{children:i?"검색 결과가 없습니다.":"검색을 시작해보세요."})})})]})]}),(0,a.jsxs)(ex.Zb,{className:"lg:col-span-2 bg-slate-800/50 border-slate-700",children:[(0,a.jsx)(ex.Ol,{children:(0,a.jsx)("div",{className:"flex justify-between items-center",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(ex.ll,{className:"text-lg font-semibold text-slate-300",children:"나만의 포트폴리오"}),(0,a.jsxs)(ex.SZ,{className:"text-sm text-slate-400",children:["총 비중: ",(0,a.jsxs)("span",{className:"font-bold ".concat(b>100?"text-red-500":"text-green-400"),children:[b,"%"]})]})]})})}),(0,a.jsx)(ex.aY,{children:(0,a.jsx)(eG,{className:"h-[450px] pr-4",children:s.length>0?(0,a.jsx)("ul",{className:"space-y-3",children:s.map(e=>(0,a.jsxs)(n.E.li,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},className:"flex items-center justify-between p-3 rounded-lg bg-slate-900/50 border border-slate-700/50",children:[(0,a.jsxs)("div",{className:"w-1/3",children:[(0,a.jsx)("p",{className:"font-bold text-indigo-400",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:e.code})]}),(0,a.jsxs)("div",{className:"flex items-center w-2/3",children:[(0,a.jsx)(I.I,{type:"number",value:e.weight,onChange:t=>g(e.code,parseInt(t.target.value,10)||0),className:"w-20 text-center bg-slate-800 border-slate-600",min:"0",max:"100"}),(0,a.jsx)("span",{className:"ml-2 text-slate-400",children:"%"}),(0,a.jsx)("div",{className:"flex-grow ml-4",children:(0,a.jsx)(I.I,{type:"range",min:"0",max:"100",value:e.weight,onChange:t=>g(e.code,parseInt(t.target.value,10)),className:"w-full h-1 bg-slate-700 rounded-lg appearance-none cursor-pointer"})}),(0,a.jsx)(R.z,{size:"sm",variant:"ghost",onClick:()=>p(e.code),className:"ml-4",children:(0,a.jsx)(e1.Z,{className:"h-5 w-5 text-red-500"})})]})]},e.code))}):(0,a.jsx)("div",{className:"text-center py-20 text-slate-500",children:(0,a.jsx)("p",{children:"검색하여 포트폴리오에 종목을 추가하세요."})})})})]})]})}let e4=[{value:"explorer",label:"탐색",icon:h.Z},{value:"news",label:"뉴스",icon:p.Z},{value:"tools",label:"도구",icon:g.Z},{value:"dailyPlan",label:"계획",icon:b.Z},{value:"portfolio",label:"관리",icon:eD.Z},{value:"psychology-research",label:"심리",icon:j.Z,isExternal:!0}];function e8(e){let{activeTab:t,setActiveTab:s}=e;(0,l.useRouter)();let r=(e,t)=>{t?window.open("https://psychology.onedaytrading.net","_blank"):s(e)};return(0,a.jsx)("div",{className:"fixed bottom-0 left-0 right-0 z-50 border-t border-white/10 bg-slate-950/90 backdrop-blur-lg md:hidden",children:(0,a.jsx)("nav",{className:"flex h-16 items-center justify-around px-2",children:e4.map(e=>{let s=e.icon,l=t===e.value;return(0,a.jsxs)("button",{onClick:()=>r(e.value,e.isExternal||!1),className:(0,o.cn)("flex flex-1 flex-col items-center justify-center p-2 rounded-md transition-colors duration-200 focus:outline-none",l?"text-white":"text-slate-400 hover:text-white"),children:[(0,a.jsx)(s,{className:"h-6 w-6"}),(0,a.jsx)("span",{className:"text-xs mt-1 font-medium",children:e.label})]},e.value)})})})}var e6=s(575),e3=s(7648),e7=s(2106),e9=s(6412),te=s(706),tt=s(504),ts=s(257);function ta(e){let{postId:t,onBack:s}=e,{user:l}=(0,e6.a)(),[n,i]=(0,r.useState)(null),[o,c]=(0,r.useState)([]),[d,m]=(0,r.useState)(""),[x,u]=(0,r.useState)(!0),[f,h]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{u(!0),h(null);try{let e=await fetch("/api/posts/".concat(t));if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let s=await e.json();i(s.data);let a=await fetch("/api/comments?postId=".concat(t));if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));let l=await a.json();c(l.data)}catch(e){h(e.message)}finally{u(!1)}})()},[t]);let p=async e=>{if(e.preventDefault(),!l){alert("Please log in to comment.");return}if(d.trim())try{let e=await fetch("".concat(ts.env.NEXT_PUBLIC_BACKEND_API_URL,"/api/comments"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:d,userId:l.id,postId:t})});if(e.ok){let t=(await e.json()).data;c(e=>[...e,t]),m("")}else{let{error:t}=await e.json();h(t)}}catch(e){h(e.message)}},g=async()=>{if(!l){alert("Please log in to like.");return}try{let e=await fetch("/api/likes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:l.id,postId:t})});if(e.ok)n&&i({...n,likeCount:201===e.status?n.likeCount+1:n.likeCount-1});else{let{error:t}=await e.json();h(t)}}catch(e){h(e.message)}};return x?(0,a.jsx)("div",{className:"text-center py-10",children:"Loading..."}):f?(0,a.jsxs)("div",{className:"text-center py-10 text-red-500",children:["Error: ",f]}):n?(0,a.jsxs)("div",{className:"container mx-auto p-4",children:[(0,a.jsx)(R.z,{onClick:s,className:"mb-4",children:"Back to List"}),(0,a.jsxs)(ex.Zb,{children:[(0,a.jsxs)(ex.Ol,{children:[(0,a.jsx)(ex.ll,{children:n.title}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Category: ",n.category.name]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Author: ",n.user.nickname]}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:new Date(n.createdAt).toLocaleDateString()})]}),(0,a.jsxs)(ex.aY,{children:[(0,a.jsx)("p",{children:n.content}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-4",children:[(0,a.jsxs)(R.z,{onClick:g,children:["Like (",n.likeCount,")"]}),(0,a.jsxs)("span",{children:["Views: ",n.viewCount]})]})]})]}),(0,a.jsx)("h2",{className:"text-2xl font-bold mt-8 mb-4",children:"Comments"}),(0,a.jsx)("div",{className:"space-y-4",children:o.map(e=>(0,a.jsx)(ex.Zb,{children:(0,a.jsxs)(ex.aY,{children:[(0,a.jsx)("p",{children:e.content}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["By: ",e.user.nickname," at ",new Date(e.createdAt).toLocaleDateString()]})]})},e.id))}),l&&(0,a.jsxs)("form",{onSubmit:p,className:"mt-8",children:[(0,a.jsx)("textarea",{className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",rows:4,placeholder:"Add a comment...",value:d,onChange:e=>m(e.target.value)}),(0,a.jsx)(R.z,{type:"submit",className:"mt-2",children:"Submit Comment"})]})]}):(0,a.jsx)("div",{className:"text-center py-10",children:"Post not found."})}var tl=s(175),tr=s(9987);let tn=(0,X.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3 min-w-10",sm:"h-9 px-2.5 min-w-9",lg:"h-11 px-5 min-w-11"}},defaultVariants:{variant:"default",size:"default"}});r.forwardRef((e,t)=>{let{className:s,variant:l,size:r,...n}=e;return(0,a.jsx)(tr.f,{ref:t,className:(0,o.cn)(tn({variant:l,size:r,className:s})),...n})}).displayName=tr.f.displayName;let ti=r.createContext({size:"default",variant:"default"}),to=r.forwardRef((e,t)=>{let{className:s,variant:l,size:r,children:n,...i}=e;return(0,a.jsx)(tl.fC,{ref:t,className:(0,o.cn)("flex items-center justify-center gap-1",s),...i,children:(0,a.jsx)(ti.Provider,{value:{variant:l,size:r},children:n})})});to.displayName=tl.fC.displayName;let tc=r.forwardRef((e,t)=>{let{className:s,children:l,variant:n,size:i,...c}=e,d=r.useContext(ti);return(0,a.jsx)(tl.ck,{ref:t,className:(0,o.cn)(tn({variant:d.variant||n,size:d.size||i}),s),...c,children:l})});function td(){let{user:e}=(0,e6.a)(),[t,s]=(0,r.useState)("all"),{posts:l,loading:n,error:i,searchTerm:o,setSearchTerm:c,hasMore:d,loadMore:m}=(0,e7.V)(t),[x,u]=(0,r.useState)(null),f=e=>{u(e)};return(0,a.jsxs)("div",{className:"container mx-auto p-4",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Community Board"}),x?(0,a.jsx)(ta,{postId:x,onBack:()=>{u(null)}}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)(to,{type:"single",value:t||"all",onValueChange:e=>{s(e)},children:[(0,a.jsx)(tc,{value:"all","aria-label":"View all posts",children:"All"}),(0,a.jsx)(tc,{value:"국내 주식","aria-label":"View domestic stock posts",children:"국내 주식"}),(0,a.jsx)(tc,{value:"해외 주식","aria-label":"View overseas stock posts",children:"해외 주식"}),(0,a.jsx)(tc,{value:"자유 토론","aria-label":"View free discussion posts",children:"자유 토론"})]})}),(0,a.jsxs)("div",{className:"flex mb-4 space-x-2",children:[(0,a.jsx)("div",{className:"relative flex-grow",children:(0,a.jsx)(I.I,{type:"text",placeholder:"Search posts...",value:o,onChange:e=>c(e.target.value),className:"pr-10"})}),e&&(0,a.jsx)(e3.default,{href:"/community/new",children:(0,a.jsx)(R.z,{children:"Create Post"})})]}),i&&(0,a.jsxs)("div",{className:"text-center py-10 text-red-500",children:["Error: ",i]}),n&&0===l.length?(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((e,t)=>(0,a.jsx)(e9.N,{},t))}):(0,a.jsxs)(a.Fragment,{children:[!i&&0===l.length&&(0,a.jsx)("div",{className:"text-center py-10 text-gray-500",children:"No posts found."}),(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:l.map(e=>(0,a.jsx)(tt.H,{post:e,onClick:()=>f(e.id)},e.id))}),d&&(0,a.jsx)("div",{className:"text-center mt-6",children:(0,a.jsx)(R.z,{onClick:m,disabled:n,children:n?"Loading...":"Load More"})})]})]}),(0,a.jsx)(te.U,{})]})}tc.displayName=tl.ck.displayName;let tm=()=>(0,a.jsx)("div",{className:"fixed inset-0 z-0 overflow-hidden",children:(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-[#1A202C] via-[#2D3748] to-[#2C5282] opacity-50"})}),tx=e=>{let{children:t}=e;return(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.2},className:"relative z-10 mt-8",children:t})},tu=()=>{let{user:e,isLoading:t,logout:s}=(0,e6.a)(),r=(0,l.useRouter)();if(t)return(0,a.jsx)("div",{className:"h-10 w-24 bg-slate-800 rounded-full animate-pulse"});if(e){var n,i,o;return(0,a.jsxs)(S,{children:[(0,a.jsx)(C,{asChild:!0,children:(0,a.jsxs)(R.z,{variant:"ghost",className:"relative h-10 w-auto px-4 rounded-full flex items-center gap-2 hover:bg-slate-700/50",children:[(0,a.jsxs)(v.qE,{className:"h-8 w-8 border-2 border-slate-500",children:[(0,a.jsx)(v.F$,{src:e.avatar_url||void 0,alt:e.nickname||e.username||e.email||""}),(0,a.jsx)(v.Q5,{children:(null===(n=e.nickname)||void 0===n?void 0:n.charAt(0).toUpperCase())||(null===(i=e.username)||void 0===i?void 0:i.charAt(0).toUpperCase())||(null===(o=e.email)||void 0===o?void 0:o.charAt(0).toUpperCase())||"?"})]}),(0,a.jsx)("span",{className:"hidden sm:inline font-semibold text-slate-200",children:e.nickname||e.username||e.email})]})}),(0,a.jsxs)(_,{className:"w-56 bg-slate-800 border-slate-700 text-slate-200",align:"end",forceMount:!0,children:[(0,a.jsx)(E,{className:"font-normal",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium leading-none",children:e.nickname||e.username||e.email}),(0,a.jsx)("p",{className:"text-xs leading-none text-slate-400",children:"Welcome back!"})]})}),(0,a.jsx)(Z,{className:"bg-slate-700"}),(0,a.jsxs)(z,{onClick:()=>r.push("/settings/notifications"),className:"cursor-pointer focus:bg-slate-700",children:[(0,a.jsx)(u.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Settings"})]}),(0,a.jsx)(Z,{className:"bg-slate-700"}),(0,a.jsxs)(z,{onClick:s,className:"cursor-pointer focus:bg-slate-700 focus:text-red-400",children:[(0,a.jsx)(f.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Log out"})]})]})]})}return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(R.z,{variant:"outline",className:"rounded-full border-slate-600 text-slate-200 hover:bg-slate-800 hover:text-white",onClick:()=>r.push("/login"),children:"Log In"}),(0,a.jsx)(R.z,{className:"rounded-full bg-indigo-600 hover:bg-indigo-700 text-white",onClick:()=>r.push("/register"),children:"Sign Up"})]})};function tf(){let[e,t]=(0,r.useState)("explorer"),s=function(){let[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=()=>{t(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),e}(),i=(0,l.useRouter)();return(0,a.jsxs)("div",{className:"min-h-screen bg-[#0A0F1A] text-gray-100 font-sans ".concat(s?"pb-16":""),children:[(0,a.jsx)(tm,{}),(0,a.jsx)("header",{className:"sticky top-0 z-50 p-4 sm:p-5 bg-black/20 backdrop-blur-lg border-b border-white/10",children:(0,a.jsxs)("div",{className:"max-w-screen-xl mx-auto flex justify-between items-center",children:[(0,a.jsx)(n.E.h1,{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,a.jsx)("span",{className:"bg-clip-text text-transparent bg-gradient-to-br from-slate-200 to-slate-400 cursor-pointer",onClick:()=>i.push("/"),children:"OneDayTrading"})}),(0,a.jsx)(tu,{})]})}),(0,a.jsx)("main",{className:"max-w-screen-xl mx-auto p-4 sm:p-5 lg:p-8 relative z-10",children:(0,a.jsxs)(c,{value:e,onValueChange:t,className:"w-full",children:[!s&&(0,a.jsx)("div",{className:"flex justify-center mb-8",children:(0,a.jsxs)(d,{className:"bg-slate-900/70 backdrop-blur-xl border border-white/10 p-2 rounded-xl",children:[(0,a.jsxs)(m,{value:"explorer",children:[(0,a.jsx)(h.Z,{className:"mr-2 h-4 w-4"}),"기업 탐색기"]}),(0,a.jsxs)(m,{value:"news",children:[(0,a.jsx)(p.Z,{className:"mr-2 h-4 w-4"}),"실시간 뉴스"]}),(0,a.jsxs)(m,{value:"tools",children:[(0,a.jsx)(g.Z,{className:"mr-2 h-4 w-4"}),"투자 분석 도구"]}),(0,a.jsxs)(m,{value:"dailyPlan",children:[(0,a.jsx)(b.Z,{className:"mr-2 h-4 w-4"}),"일일 계획"]}),(0,a.jsxs)(m,{value:"community",children:[(0,a.jsx)(b.Z,{className:"mr-2 h-4 w-4"}),"커뮤니티"]}),(0,a.jsxs)(m,{value:"psychology-research",onClick:()=>window.open("https://psychology-research.onedaytrading.net","_blank"),children:[(0,a.jsx)(j.Z,{className:"mr-2 h-4 w-4"}),"심리연구소"]})]})}),(0,a.jsx)(x,{value:"explorer",children:(0,a.jsx)(tx,{children:(0,a.jsx)(F,{})})}),(0,a.jsx)(x,{value:"news",children:(0,a.jsx)(tx,{children:(0,a.jsx)(em,{})})}),(0,a.jsx)(x,{value:"tools",children:(0,a.jsx)(tx,{children:(0,a.jsx)(ef,{})})}),(0,a.jsx)(x,{value:"dailyPlan",children:(0,a.jsx)(tx,{children:(0,a.jsx)(eR,{})})}),(0,a.jsx)(x,{value:"community",children:(0,a.jsx)(tx,{children:(0,a.jsx)(td,{})})}),(0,a.jsx)(x,{value:"portfolio",children:(0,a.jsx)(tx,{children:(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)(eQ,{}),(0,a.jsx)(e5,{})]})})})]})}),s&&(0,a.jsx)(e8,{activeTab:e,setActiveTab:t})]})}},504:function(e,t,s){"use strict";s.d(t,{H:function(){return n}});var a=s(7437),l=s(2021),r=s(6070);function n(e){let{post:t,onClick:s}=e;return(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},onClick:s,style:{cursor:"pointer"},children:(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{children:(0,a.jsx)(r.ll,{children:t.title})}),(0,a.jsxs)(r.aY,{children:[(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Category: ",t.category.name]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Author: ",t.user.nickname]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Views: ",t.viewCount," | Likes: ",t.likeCount]}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:new Date(t.createdAt).toLocaleDateString()})]})]})})}},6412:function(e,t,s){"use strict";s.d(t,{N:function(){return i}});var a=s(7437),l=s(6070),r=s(4508);function n(e){let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",t),...s})}function i(){return(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(n,{className:"h-6 w-3/4"})}),(0,a.jsxs)(l.aY,{className:"space-y-2",children:[(0,a.jsx)(n,{className:"h-4 w-1/2"}),(0,a.jsx)(n,{className:"h-4 w-1/3"}),(0,a.jsx)(n,{className:"h-4 w-full"}),(0,a.jsx)(n,{className:"h-4 w-full"}),(0,a.jsx)(n,{className:"h-8 w-24 mt-2"})]})]})}},706:function(e,t,s){"use strict";s.d(t,{U:function(){return i}});var a=s(7437),l=s(2265),r=s(2869),n=s(265);function i(){let[e,t]=(0,l.useState)(!1),s=()=>{window.pageYOffset>300?t(!0):t(!1)};return(0,l.useEffect)(()=>(window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)),[]),(0,a.jsx)(r.z,{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-4 right-4 p-2 rounded-full transition-opacity ".concat(e?"opacity-100":"opacity-0"),variant:"outline",size:"icon",children:(0,a.jsx)(n.Z,{className:"h-6 w-6"})})}},6831:function(e,t,s){"use strict";s.d(t,{F$:function(){return o},Q5:function(){return c},qE:function(){return i}});var a=s(7437),l=s(2265),r=s(4930),n=s(4508);let i=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.fC,{ref:t,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...l})});i.displayName=r.fC.displayName;let o=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.Ee,{ref:t,className:(0,n.cn)("aspect-square h-full w-full",s),...l})});o.displayName=r.Ee.displayName;let c=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.NY,{ref:t,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...l})});c.displayName=r.NY.displayName},2869:function(e,t,s){"use strict";s.d(t,{d:function(){return o},z:function(){return c}});var a=s(7437),l=s(2265),r=s(7053),n=s(535),i=s(4508);let o=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=l.forwardRef((e,t)=>{let{className:s,variant:l,size:n,asChild:c=!1,...d}=e,m=c?r.g7:"button";return(0,a.jsx)(m,{className:(0,i.cn)(o({variant:l,size:n,className:s})),ref:t,...d})});c.displayName="Button"},1098:function(e,t,s){"use strict";s.d(t,{f:function(){return c}});var a=s(7437);s(2265);var l=s(2451),r=s(407),n=s(7811),i=s(4508),o=s(2869);function c(e){let{className:t,classNames:s,showOutsideDays:c=!0,...d}=e;return(0,a.jsx)(n._W,{showOutsideDays:c,className:(0,i.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,i.cn)((0,o.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,i.cn)((0,o.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...s},components:{IconLeft:e=>{let{...t}=e;return(0,a.jsx)(l.Z,{className:"h-4 w-4"})},IconRight:e=>{let{...t}=e;return(0,a.jsx)(r.Z,{className:"h-4 w-4"})}},...d})}c.displayName="Calendar"},6070:function(e,t,s){"use strict";s.d(t,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return n},aY:function(){return d},eW:function(){return m},ll:function(){return o}});var a=s(7437),l=s(2265),r=s(4508);let n=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...l})});n.displayName="Card";let i=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",s),...l})});i.displayName="CardHeader";let o=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",s),...l})});o.displayName="CardTitle";let c=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",s),...l})});c.displayName="CardDescription";let d=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",s),...l})});d.displayName="CardContent";let m=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",s),...l})});m.displayName="CardFooter"},5186:function(e,t,s){"use strict";s.d(t,{I:function(){return n}});var a=s(7437),l=s(2265),r=s(4508);let n=l.forwardRef((e,t)=>{let{className:s,type:l,...n}=e;return(0,a.jsx)("input",{type:l,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...n})});n.displayName="Input"},6815:function(e,t,s){"use strict";s.d(t,{_:function(){return c}});var a=s(7437),l=s(2265),r=s(6394),n=s(535),i=s(4508);let o=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.f,{ref:t,className:(0,i.cn)(o(),s),...l})});c.displayName=r.f.displayName},3647:function(e,t,s){"use strict";s.d(t,{Bw:function(){return h},Ph:function(){return d},Ql:function(){return p},i4:function(){return x},ki:function(){return m}});var a=s(7437),l=s(2265),r=s(6873),n=s(875),i=s(2135),o=s(401),c=s(4508);let d=r.fC;r.ZA;let m=r.B4,x=l.forwardRef((e,t)=>{let{className:s,children:l,...i}=e;return(0,a.jsxs)(r.xz,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[l,(0,a.jsx)(r.JO,{asChild:!0,children:(0,a.jsx)(n.Z,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=r.xz.displayName;let u=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.u_,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...l,children:(0,a.jsx)(i.Z,{className:"h-4 w-4"})})});u.displayName=r.u_.displayName;let f=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.$G,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...l,children:(0,a.jsx)(n.Z,{className:"h-4 w-4"})})});f.displayName=r.$G.displayName;let h=l.forwardRef((e,t)=>{let{className:s,children:l,position:n="popper",...i}=e;return(0,a.jsx)(r.h_,{children:(0,a.jsxs)(r.VY,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...i,children:[(0,a.jsx)(u,{}),(0,a.jsx)(r.l_,{className:(0,c.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,a.jsx)(f,{})]})})});h.displayName=r.VY.displayName,l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.__,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...l})}).displayName=r.__.displayName;let p=l.forwardRef((e,t)=>{let{className:s,children:l,...n}=e;return(0,a.jsxs)(r.ck,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(r.wU,{children:(0,a.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(r.eT,{children:l})]})});p.displayName=r.ck.displayName,l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...l})}).displayName=r.Z0.displayName},6818:function(e,t,s){"use strict";s.d(t,{g:function(){return n}});var a=s(7437),l=s(2265),r=s(4508);let n=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...l})});n.displayName="Textarea"},575:function(e,t,s){"use strict";s.d(t,{a:function(){return l}});var a=s(605);let l=()=>{var e;let t=(0,a.useSession)();return{user:(null===(e=t.data)||void 0===e?void 0:e.user)||null,isLoading:"loading"===t.status,login:e=>(0,a.signIn)(e),logout:()=>(0,a.signOut)(),sessionData:t.data,sessionStatus:t.status}}},5153:function(e,t,s){"use strict";s.d(t,{pm:function(){return x}});var a=s(2265);let l=0,r=new Map,n=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],c={toasts:[]};function d(e){c=i(c,e),o.forEach(e=>{e(c)})}function m(e){let{...t}=e,s=(l=(l+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function x(){let[e,t]=a.useState(c);return a.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},2106:function(e,t,s){"use strict";s.d(t,{V:function(){return r}});var a=s(2265),l=s(1931);function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,[t,s]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(""),[m]=(0,l.Nr)(c,500),[x,u]=(0,a.useState)(1),[f,h]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(async()=>{n(!0),o(null);try{let t=await fetch("/api/posts?q=".concat(m,"&page=").concat(x).concat(e?"&category=".concat(e):""));if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let a=(await t.json()).data;s(e=>1===x?a:[...e,...a]),h(a.length>0)}catch(e){o(e.message)}finally{n(!1)}})()},[m,x,e]),{posts:t,loading:r,error:i,searchTerm:c,setSearchTerm:d,hasMore:f,loadMore:()=>{f&&!r&&u(e=>e+1)}}}},4508:function(e,t,s){"use strict";s.d(t,{cn:function(){return r}});var a=s(1994),l=s(3335);function r(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,l.m6)((0,a.W)(t))}}},function(e){e.O(0,[6137,605,7648,7107,2021,2899,229,5026,5107,1509,2971,2117,1744],function(){return e(e.s=9833)}),_N_E=e.O()}]);